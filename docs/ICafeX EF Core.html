<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>in</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<ol type="1">
<li><strong>What is Entity Framework, and how does it simplify data
access?</strong></li>
</ol>
<ul>
<li>Entity Framework (EF) is an Object-Relational Mapping (ORM)
framework for .NET, simplifying database access.</li>
<li>It enables developers to interact with databases using strongly
typed objects without writing raw SQL.</li>
<li>EF handles tasks like data mapping, change tracking, and
relationship management automatically.</li>
<li>By abstracting the database layer, EF allows developers to focus on
business logic.</li>
<li>Example: In a project, EF was used to simplify CRUD operations by
mapping database tables to C# classes, reducing boilerplate code.</li>
</ul>
<ol start="2" type="1">
<li><strong>Compare Entity Framework and Entity Framework
Core.</strong></li>
</ol>
<ul>
<li>Entity Framework is a full-featured, Windows-specific ORM, while EF
Core is cross-platform and lightweight.</li>
<li>EF Core offers better performance and support for new features like
global query filters and shadow properties.</li>
<li>EF supports Database-First and Model-First approaches, while EF Core
emphasizes Code-First with improved flexibility.</li>
<li>EF Core lacks some EF features, such as EDMX-based models and lazy
loading (in earlier versions).</li>
<li>Example: EF Core was used in a .NET Core project for its
cross-platform support and better performance in handling LINQ
queries.</li>
</ul>
<ol start="3" type="1">
<li><strong>What are the different approaches to using EF, such as
Code-First, Database-First, and Model-First?</strong></li>
</ol>
<ul>
<li>Code-First: Define your database schema using C# classes, and EF
generates the database.</li>
<li>Database-First: Reverse-engineer the database schema into C#
models.</li>
<li>Model-First: Create a visual model, and EF generates the database
schema and classes.</li>
<li>Each approach is suited for different project requirements and
developer preferences.</li>
<li>Example: In a recent project, the Code-First approach was preferred
for its flexibility and alignment with agile development.</li>
</ul>
<ol start="4" type="1">
<li><strong>How do you handle migrations in EF Core?</strong></li>
</ol>
<ul>
<li>Migrations are used to manage database schema changes while
preserving existing data.</li>
<li>Use the <code>Add-Migration</code> and <code>Update-Database</code>
commands in the Package Manager Console or CLI.</li>
<li>Migrations track changes to models and apply them incrementally to
the database.</li>
<li>Customize migration scripts to handle complex scenarios like seed
data or renaming columns.</li>
<li>Example: Implemented a migration to add a new table for storing user
preferences using
<code>dotnet ef migrations add AddUserPreferences</code>.</li>
</ul>
<div class="sourceCode" id="cb1"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> ApplicationDbContext <span class="op">:</span> DbContext</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> DbSet<span class="op">&lt;</span>UserPreference<span class="op">&gt;</span> UserPreferences <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ol start="5" type="1">
<li><strong>What is lazy loading, and how does it differ from eager
loading in EF?</strong></li>
</ol>
<ul>
<li>Lazy loading defers loading related data until it’s explicitly
accessed.</li>
<li>Eager loading loads related data upfront using
<code>Include()</code> in LINQ queries.</li>
<li>Explicit loading manually loads related data using
<code>Load()</code> after the initial query.</li>
<li>Lazy loading minimizes initial data retrieval but may result in
multiple database calls.</li>
<li>Example: Eager loading was used to optimize query performance in a
reporting module:</li>
</ul>
<div class="sourceCode" id="cb2"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> users <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span><span class="op">.</span><span class="fu">Include</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">Orders</span><span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<ol start="6" type="1">
<li><strong>How do you configure relationships between tables in EF
Core?</strong></li>
</ol>
<ul>
<li>Define relationships using navigation properties in entity
classes.</li>
<li>Use Fluent API for more control over configurations in the
<code>OnModelCreating</code> method.</li>
<li>Specify cardinality using methods like <code>HasOne</code>,
<code>HasMany</code>, or <code>WithMany</code>.</li>
<li>Apply constraints like foreign keys using
<code>HasForeignKey</code>.</li>
<li>Example: Configured a one-to-many relationship between
<code>Order</code> and <code>OrderItem</code> entities:</li>
</ul>
<div class="sourceCode" id="cb3"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Order<span class="op">&gt;()</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasMany</span><span class="op">(</span>o <span class="op">=&gt;</span> o<span class="op">.</span><span class="fu">OrderItems</span><span class="op">)</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">WithOne</span><span class="op">(</span>oi <span class="op">=&gt;</span> oi<span class="op">.</span><span class="fu">Order</span><span class="op">)</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasForeignKey</span><span class="op">(</span>oi <span class="op">=&gt;</span> oi<span class="op">.</span><span class="fu">OrderId</span><span class="op">);</span></span></code></pre></div>
<ol start="7" type="1">
<li><strong>How do you write a LINQ query in Entity
Framework?</strong></li>
</ol>
<ul>
<li>LINQ queries can be written using query syntax or method
syntax.</li>
<li>LINQ allows filtering, sorting, grouping, and projecting data.</li>
<li>EF Core translates LINQ queries to SQL for execution.</li>
<li>Queries support eager loading, lazy loading, and filtering for
specific data.</li>
<li>Example: Fetching orders placed in the last week using LINQ:</li>
</ul>
<div class="sourceCode" id="cb4"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> recentOrders <span class="op">=</span> context<span class="op">.</span><span class="fu">Orders</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Where</span><span class="op">(</span>o <span class="op">=&gt;</span> o<span class="op">.</span><span class="fu">OrderDate</span> <span class="op">&gt;=</span> DateTime<span class="op">.</span><span class="fu">Now</span><span class="op">.</span><span class="fu">AddDays</span><span class="op">(-</span><span class="dv">7</span><span class="op">))</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<ol start="8" type="1">
<li><strong>What are the common performance optimization techniques in
EF Core?</strong></li>
</ol>
<ul>
<li>Use <code>AsNoTracking</code> for read-only queries to disable
change tracking.</li>
<li>Leverage eager loading with <code>Include</code> to minimize
database calls.</li>
<li>Use projection to retrieve only required fields.</li>
<li>Optimize queries with proper indexing and by avoiding N+1 query
issues.</li>
<li>Example: Optimized a dashboard query using eager loading and
projections:</li>
</ul>
<div class="sourceCode" id="cb5"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> data <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Include</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">Orders</span><span class="op">)</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Select</span><span class="op">(</span>u <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> u<span class="op">.</span><span class="fu">Name</span><span class="op">,</span> OrderCount <span class="op">=</span> u<span class="op">.</span><span class="fu">Orders</span><span class="op">.</span><span class="fu">Count</span> <span class="op">})</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<ol start="9" type="1">
<li><strong>How do you execute raw SQL queries in EF Core?</strong></li>
</ol>
<ul>
<li>Use the <code>FromSqlRaw</code> or <code>FromSqlInterpolated</code>
methods for executing raw SQL.</li>
<li>Combine raw SQL with LINQ for complex scenarios.</li>
<li>Ensure proper parameterization to prevent SQL injection.</li>
<li>Use raw SQL queries for operations unsupported by LINQ or for
performance tuning.</li>
<li>Example: Executed a raw SQL query to retrieve active users:</li>
</ul>
<div class="sourceCode" id="cb6"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> activeUsers <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">FromSqlRaw</span><span class="op">(</span><span class="st">&quot;SELECT * FROM Users WHERE IsActive = 1&quot;</span><span class="op">)</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<ol start="10" type="1">
<li><strong>Explain how to use the Fluent API in EF Core.</strong></li>
</ol>
<ul>
<li>Fluent API provides a programmatic way to configure entity
mappings.</li>
<li>Override <code>OnModelCreating</code> in <code>DbContext</code> to
define configurations.</li>
<li>Use Fluent API for configurations like keys, constraints, and
relationships.</li>
<li>It offers greater control than data annotations.</li>
<li>Example: Configured a composite key using Fluent API:</li>
</ul>
<div class="sourceCode" id="cb7"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>OrderDetail<span class="op">&gt;()</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasKey</span><span class="op">(</span>od <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> od<span class="op">.</span><span class="fu">OrderId</span><span class="op">,</span> od<span class="op">.</span><span class="fu">ProductId</span> <span class="op">});</span></span></code></pre></div>
<ol start="11" type="1">
<li><strong>What is change tracking in EF Core, and how does it
work?</strong></li>
</ol>
<ul>
<li>EF Core tracks changes to entity properties to update the
database.</li>
<li>It uses a <code>DbContext</code> to maintain the state of entities
(Added, Modified, Deleted).</li>
<li>Change tracking is automatic for entities retrieved from the
database.</li>
<li>It enables efficient updates by sending only changed fields.</li>
<li>Example: Updated a user record, and EF Core automatically tracked
the changes:</li>
</ul>
<div class="sourceCode" id="cb8"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> user <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span><span class="op">.</span><span class="fu">Find</span><span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>user<span class="op">.</span><span class="fu">Name</span> <span class="op">=</span> <span class="st">&quot;Updated Name&quot;</span><span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>context<span class="op">.</span><span class="fu">SaveChanges</span><span class="op">();</span></span></code></pre></div>
<ol start="12" type="1">
<li><strong>How do you handle concurrency in EF Core?</strong></li>
</ol>
<ul>
<li>Concurrency is managed using concurrency tokens like
<code>RowVersion</code>.</li>
<li>Add a property with <code>[ConcurrencyCheck]</code> or
<code>IsRowVersion</code> for tracking.</li>
<li>Handle <code>DbUpdateConcurrencyException</code> for conflicts.</li>
<li>Merge or reject changes based on business rules.</li>
<li>Example: Added a <code>RowVersion</code> property for handling
concurrency conflicts:</li>
</ul>
<div class="sourceCode" id="cb9"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">byte</span><span class="op">[]</span> RowVersion <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span></code></pre></div>
<ol start="13" type="1">
<li><strong>Can you explain the role of repositories and unit of work
patterns with EF Core?</strong></li>
</ol>
<ul>
<li>Repository pattern abstracts data access logic.</li>
<li>Unit of Work ensures transactional consistency across multiple
repositories.</li>
<li>These patterns decouple business logic from EF Core-specific
operations.</li>
<li>Simplifies testing and promotes cleaner architecture.</li>
<li>Example: Used a repository pattern to handle user operations in a
service layer.</li>
</ul>
<div class="sourceCode" id="cb10"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">interface</span> IUserRepository</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    User <span class="fu">GetUserById</span><span class="op">(</span><span class="dt">int</span> id<span class="op">);</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ol start="14" type="1">
<li><strong>What is the purpose of AsNoTracking in EF Core? When should
it be used?</strong></li>
</ol>
<ul>
<li><code>AsNoTracking</code> disables change tracking for read-only
queries.</li>
<li>It improves performance by reducing memory usage.</li>
<li>Ideal for scenarios where entities are not updated.</li>
<li>Avoid using <code>AsNoTracking</code> for entities involved in
updates.</li>
<li>Example: Used <code>AsNoTracking</code> for fetching report data to
improve performance:</li>
</ul>
<div class="sourceCode" id="cb11"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> users <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span><span class="op">.</span><span class="fu">AsNoTracking</span><span class="op">().</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<ol start="15" type="1">
<li><strong>How do you implement migrations in Entity Framework
Core?</strong></li>
</ol>
<ul>
<li>Create migrations using <code>Add-Migration</code> and apply them
with <code>Update-Database</code>.</li>
<li>Customize migration files to handle specific requirements.</li>
<li>Use <code>dotnet ef</code> CLI for migrations in cross-platform
projects.</li>
<li>Rollback changes using <code>Remove-Migration</code> or revert to a
previous migration.</li>
<li>Example: Created a migration to add an <code>IsActive</code> column
to the <code>Users</code> table:</li>
</ul>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">dotnet</span> ef migrations add AddIsActiveColumn</span></code></pre></div>
<ol start="16" type="1">
<li><strong>Explain the use of LINQ in EF Core.</strong></li>
</ol>
<ul>
<li>LINQ (Language Integrated Query) in EF Core allows querying
databases using strongly typed C# code.</li>
<li>It supports operations like filtering, projection, grouping, and
ordering using query or method syntax.</li>
<li>EF Core translates LINQ queries into SQL queries executed on the
database server.</li>
<li>Example: A LINQ query to fetch active users and their roles:</li>
</ul>
<div class="sourceCode" id="cb13"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> activeUsers <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Where</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">IsActive</span><span class="op">)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Select</span><span class="op">(</span>u <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> u<span class="op">.</span><span class="fu">Name</span><span class="op">,</span> u<span class="op">.</span><span class="fu">Role</span> <span class="op">})</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<ol start="17" type="1">
<li><strong>What is the role of DbContext in EF Core, and how do you
configure it?</strong></li>
</ol>
<ul>
<li><code>DbContext</code> is the primary class in EF Core for
interacting with the database.</li>
<li>It manages entity objects, tracks changes, and performs database
operations.</li>
<li>Configuration includes connection strings and database provider
setup in the <code>OnConfiguring</code> method or
<code>Startup.cs</code>.</li>
<li>Example: Configured <code>DbContext</code> to use SQL Server with a
connection string:</li>
</ul>
<div class="sourceCode" id="cb14"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>services<span class="op">.</span><span class="fu">AddDbContext</span><span class="op">&lt;</span>ApplicationDbContext<span class="op">&gt;(</span>options <span class="op">=&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    options<span class="op">.</span><span class="fu">UseSqlServer</span><span class="op">(</span>Configuration<span class="op">.</span><span class="fu">GetConnectionString</span><span class="op">(</span><span class="st">&quot;DefaultConnection&quot;</span><span class="op">)));</span></span></code></pre></div>
<ol start="18" type="1">
<li><strong>What are the performance considerations when using EF Core
in large-scale systems?</strong></li>
</ol>
<ul>
<li>Optimize queries by selecting only necessary fields with
projections.</li>
<li>Use eager loading or <code>AsNoTracking</code> for read-heavy
operations to reduce memory overhead.</li>
<li>Minimize round trips to the database by batching operations.</li>
<li>Example: Improved performance in a reporting system by using
projections and eager loading:</li>
</ul>
<div class="sourceCode" id="cb15"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> reports <span class="op">=</span> context<span class="op">.</span><span class="fu">Reports</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Include</span><span class="op">(</span>r <span class="op">=&gt;</span> r<span class="op">.</span><span class="fu">Author</span><span class="op">)</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Select</span><span class="op">(</span>r <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> r<span class="op">.</span><span class="fu">Title</span><span class="op">,</span> AuthorName <span class="op">=</span> r<span class="op">.</span><span class="fu">Author</span><span class="op">.</span><span class="fu">Name</span> <span class="op">})</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<ol start="19" type="1">
<li><strong>How do you configure multiple database contexts in a .NET
Core application?</strong></li>
</ol>
<ul>
<li>Define separate <code>DbContext</code> classes for each database
schema or purpose.</li>
<li>Configure each context in the <code>Startup.cs</code> file using
different connection strings.</li>
<li>Use dependency injection to resolve the appropriate
<code>DbContext</code> where needed.</li>
<li>Example: Configured <code>UserDbContext</code> and
<code>OrderDbContext</code> for separate databases:</li>
</ul>
<div class="sourceCode" id="cb16"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>services<span class="op">.</span><span class="fu">AddDbContext</span><span class="op">&lt;</span>UserDbContext<span class="op">&gt;(</span>options <span class="op">=&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    options<span class="op">.</span><span class="fu">UseSqlServer</span><span class="op">(</span>Configuration<span class="op">.</span><span class="fu">GetConnectionString</span><span class="op">(</span><span class="st">&quot;UserDb&quot;</span><span class="op">)));</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>services<span class="op">.</span><span class="fu">AddDbContext</span><span class="op">&lt;</span>OrderDbContext<span class="op">&gt;(</span>options <span class="op">=&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    options<span class="op">.</span><span class="fu">UseSqlServer</span><span class="op">(</span>Configuration<span class="op">.</span><span class="fu">GetConnectionString</span><span class="op">(</span><span class="st">&quot;OrderDb&quot;</span><span class="op">)));</span></span></code></pre></div>
<ol start="20" type="1">
<li><strong>How can you manage concurrency conflicts in EF
Core?</strong></li>
</ol>
<ul>
<li>Use a concurrency token such as <code>RowVersion</code> or
<code>[ConcurrencyCheck]</code> on specific properties.</li>
<li>EF Core detects changes to the concurrency token and throws
<code>DbUpdateConcurrencyException</code> when conflicts occur.</li>
<li>Handle conflicts by retrying, merging changes, or discarding updates
based on application logic.</li>
<li>Example: Implemented <code>RowVersion</code> to track changes in an
employee record system:</li>
</ul>
<div class="sourceCode" id="cb17"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Employee</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> Id <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> Name <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">[</span>Timestamp<span class="op">]</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">byte</span><span class="op">[]</span> RowVersion <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ol start="21" type="1">
<li><strong>Explain the difference between FirstOrDefault and
SingleOrDefault in LINQ queries.</strong></li>
</ol>
<ul>
<li><code>FirstOrDefault</code> retrieves the first matching element or
returns <code>null</code> if no match is found.</li>
<li><code>SingleOrDefault</code> ensures only one element matches the
criteria and throws an exception if multiple matches exist.</li>
<li>Use <code>FirstOrDefault</code> for scenarios where multiple matches
are acceptable but only the first is needed.</li>
<li>Example: Retrieved a user by email using
<code>SingleOrDefault</code> to ensure uniqueness:</li>
</ul>
<div class="sourceCode" id="cb18"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> user <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span><span class="op">.</span><span class="fu">SingleOrDefault</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">Email</span> <span class="op">==</span> <span class="st">&quot;user@example.com&quot;</span><span class="op">);</span></span></code></pre></div>
<ol start="22" type="1">
<li><strong>How do you handle transactions in EF Core?</strong></li>
</ol>
<ul>
<li>Use <code>DbContext.Database.BeginTransaction</code> to manually
control transactions.</li>
<li>Combine operations within the transaction and commit only if all
succeed.</li>
<li>Rollback the transaction in case of an exception or failure.</li>
<li>Example: Implemented a transaction to ensure order creation and
payment processing were atomic:</li>
</ul>
<div class="sourceCode" id="cb19"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="op">(</span><span class="dt">var</span> transaction <span class="op">=</span> context<span class="op">.</span><span class="fu">Database</span><span class="op">.</span><span class="fu">BeginTransaction</span><span class="op">())</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">try</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        context<span class="op">.</span><span class="fu">Orders</span><span class="op">.</span><span class="fu">Add</span><span class="op">(</span>newOrder<span class="op">);</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        context<span class="op">.</span><span class="fu">SaveChanges</span><span class="op">();</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        context<span class="op">.</span><span class="fu">Payments</span><span class="op">.</span><span class="fu">Add</span><span class="op">(</span>newPayment<span class="op">);</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>        context<span class="op">.</span><span class="fu">SaveChanges</span><span class="op">();</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>        transaction<span class="op">.</span><span class="fu">Commit</span><span class="op">();</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">catch</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>        transaction<span class="op">.</span><span class="fu">Rollback</span><span class="op">();</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>        <span class="kw">throw</span><span class="op">;</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ol start="23" type="1">
<li><strong>How can you debug SQL queries generated by EF
Core?</strong></li>
</ol>
<ul>
<li>Enable logging for EF Core to view generated SQL queries in the
output or logs.</li>
<li>Use <code>ToQueryString()</code> to directly view the SQL for a LINQ
query.</li>
<li>Tools like SQL Profiler or logging frameworks can also capture and
analyze queries.</li>
<li>Example: Debugged a slow query by examining its SQL using
<code>ToQueryString()</code>:</li>
</ul>
<div class="sourceCode" id="cb20"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> query <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span><span class="op">.</span><span class="fu">Where</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">IsActive</span><span class="op">).</span><span class="fu">ToQueryString</span><span class="op">();</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>query<span class="op">);</span></span></code></pre></div>
<ol start="24" type="1">
<li><strong>Explain the use of Owned Entity Types in EF
Core.</strong></li>
</ol>
<ul>
<li>Owned entity types allow modeling complex types as part of a parent
entity rather than as a separate table.</li>
<li>These types are configured as value objects and share the table of
their owning entity.</li>
<li>Use <code>OwnsOne</code> in the Fluent API to configure owned entity
relationships.</li>
<li>Example: Implemented an <code>Address</code> type owned by a
<code>Customer</code> entity:</li>
</ul>
<div class="sourceCode" id="cb21"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Customer<span class="op">&gt;()</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">OwnsOne</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">Address</span><span class="op">,</span> a <span class="op">=&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>        a<span class="op">.</span><span class="fu">Property</span><span class="op">(</span>p <span class="op">=&gt;</span> p<span class="op">.</span><span class="fu">Street</span><span class="op">).</span><span class="fu">HasColumnName</span><span class="op">(</span><span class="st">&quot;Street&quot;</span><span class="op">);</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        a<span class="op">.</span><span class="fu">Property</span><span class="op">(</span>p <span class="op">=&gt;</span> p<span class="op">.</span><span class="fu">City</span><span class="op">).</span><span class="fu">HasColumnName</span><span class="op">(</span><span class="st">&quot;City&quot;</span><span class="op">);</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">});</span></span></code></pre></div>
<ol start="25" type="1">
<li><strong>What are the advantages and limitations of using EF Core in
a high-performance application?</strong></li>
</ol>
<ul>
<li>Advantages: Simplifies data access, supports LINQ queries, and
provides built-in migration and schema management.</li>
<li>Limitations: May generate inefficient SQL for complex queries, and
runtime performance may lag raw SQL in high-load scenarios.</li>
<li>Mitigation: Optimize queries, disable change tracking for read-heavy
workloads, and leverage raw SQL for critical operations.</li>
<li>Example: In a high-load e-commerce system, EF Core was optimized
using <code>AsNoTracking</code> and projections for read-heavy
queries.</li>
</ul>
<div class="sourceCode" id="cb22"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> products <span class="op">=</span> context<span class="op">.</span><span class="fu">Products</span><span class="op">.</span><span class="fu">AsNoTracking</span><span class="op">()</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Select</span><span class="op">(</span>p <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> p<span class="op">.</span><span class="fu">Name</span><span class="op">,</span> p<span class="op">.</span><span class="fu">Price</span> <span class="op">})</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<ol start="26" type="1">
<li><strong>How does Entity Framework Core handle shadow properties, and
how can they be used effectively?</strong></li>
</ol>
<ul>
<li>Shadow properties exist in the model but are not defined in the
entity class.</li>
<li>Useful for tracking metadata like timestamps or audit fields without
modifying domain classes.</li>
<li>Configure shadow properties using Fluent API in
<code>OnModelCreating</code>.</li>
<li>Example: Configured <code>CreatedDate</code> as a shadow property
for auditing:</li>
</ul>
<div class="sourceCode" id="cb23"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Order<span class="op">&gt;()</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Property</span><span class="op">&lt;</span>DateTime<span class="op">&gt;(</span><span class="st">&quot;CreatedDate&quot;</span><span class="op">)</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasDefaultValueSql</span><span class="op">(</span><span class="st">&quot;GETDATE()&quot;</span><span class="op">);</span></span></code></pre></div>
<ol start="27" type="1">
<li><strong>How do you configure table splitting in EF Core to map
multiple entity types to a single database table?</strong></li>
</ol>
<ul>
<li>Use table splitting to map different entity types to shared columns
in a single database table.</li>
<li>Configure table splitting with <code>HasOne</code> and
<code>WithOwner</code> Fluent API methods.</li>
<li>Each entity must have a relationship with a common primary key.</li>
<li>Example: Configured <code>User</code> and <code>UserProfile</code>
to share the same table:</li>
</ul>
<div class="sourceCode" id="cb24"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>User<span class="op">&gt;()</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasOne</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">Profile</span><span class="op">)</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">WithOwner</span><span class="op">()</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasForeignKey</span><span class="op">&lt;</span>UserProfile<span class="op">&gt;(</span>p <span class="op">=&gt;</span> p<span class="op">.</span><span class="fu">UserId</span><span class="op">);</span></span></code></pre></div>
<ol start="28" type="1">
<li><strong>What are the benefits and drawbacks of using lazy loading in
EF Core?</strong></li>
</ol>
<ul>
<li>Benefits: Reduces initial data load and simplifies code by loading
related data only when needed.</li>
<li>Drawbacks: Increases the risk of N+1 query problems and can
negatively impact performance with frequent database calls.</li>
<li>Use eager loading or explicit loading where performance is
critical.</li>
<li>Example: Disabled lazy loading in a project to avoid unintended
queries and optimize performance.</li>
</ul>
<div class="sourceCode" id="cb25"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>services<span class="op">.</span><span class="fu">AddDbContext</span><span class="op">&lt;</span>ApplicationDbContext<span class="op">&gt;(</span>options <span class="op">=&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    options<span class="op">.</span><span class="fu">UseLazyLoadingProxies</span><span class="op">(</span><span class="kw">false</span><span class="op">));</span></span></code></pre></div>
<ol start="29" type="1">
<li><strong>How can you implement soft delete functionality using EF
Core’s global query filters?</strong></li>
</ol>
<ul>
<li>Soft delete involves marking records as inactive instead of
physically deleting them.</li>
<li>Use global query filters to automatically exclude inactive records
from queries.</li>
<li>Implement a <code>IsDeleted</code> property and configure it as a
filter.</li>
<li>Example: Configured a global filter for soft deletion in the
<code>OnModelCreating</code> method:</li>
</ul>
<div class="sourceCode" id="cb26"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>User<span class="op">&gt;().</span><span class="fu">HasQueryFilter</span><span class="op">(</span>u <span class="op">=&gt;</span> <span class="op">!</span>u<span class="op">.</span><span class="fu">IsDeleted</span><span class="op">);</span></span></code></pre></div>
<ol start="30" type="1">
<li><strong>Explain the difference between DbSet and DbQuery in EF Core
and their respective use cases.</strong></li>
</ol>
<ul>
<li><code>DbSet</code>: Represents a table in the database and allows
CRUD operations.</li>
<li><code>DbQuery</code>: Represents a read-only queryable object, often
mapped to views or raw SQL.</li>
<li><code>DbQuery</code> is suitable for scenarios where data does not
have a primary key or is not updated.</li>
<li>Example: Used <code>DbSet</code> for user management and
<code>DbQuery</code> for reporting on aggregated data.</li>
</ul>
<div class="sourceCode" id="cb27"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> DbSet<span class="op">&lt;</span>User<span class="op">&gt;</span> Users <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> DbQuery<span class="op">&lt;</span>UserReport<span class="op">&gt;</span> UserReports <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span></code></pre></div>
<ol start="31" type="1">
<li><strong>How do you optimize EF Core queries for performance with
eager loading, projection, and splitting?</strong></li>
</ol>
<ul>
<li>Use eager loading to fetch related data in a single query.</li>
<li>Project data to retrieve only required fields and reduce payload
size.</li>
<li>Split queries to handle complex data loads efficiently.</li>
<li>Example: Used projection to reduce overhead in a dashboard
query:</li>
</ul>
<div class="sourceCode" id="cb28"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> data <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Include</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">Orders</span><span class="op">)</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Select</span><span class="op">(</span>u <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> u<span class="op">.</span><span class="fu">Name</span><span class="op">,</span> TotalOrders <span class="op">=</span> u<span class="op">.</span><span class="fu">Orders</span><span class="op">.</span><span class="fu">Count</span> <span class="op">})</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<ol start="32" type="1">
<li><strong>What are value objects in EF Core, and how are they
different from entities?</strong></li>
</ol>
<ul>
<li>Value objects represent concepts with no identity, defined by their
properties.</li>
<li>Entities have unique identifiers (primary keys) and are tracked by
EF Core.</li>
<li>Value objects are immutable and often used for small, reusable data
structures.</li>
<li>Example: Implemented <code>Address</code> as a value object in a
customer entity:</li>
</ul>
<div class="sourceCode" id="cb29"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Address</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> Street <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">private</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> City <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">private</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ol start="33" type="1">
<li><strong>How does EF Core support database-first and code-first
approaches? Provide examples of each.</strong></li>
</ol>
<ul>
<li>Database-First: Reverse-engineers a database schema into entity
models using scaffolding.</li>
<li>Code-First: Models are defined in code, and EF Core generates the
database schema.</li>
<li>Example: Scaffolded models from an existing database using the
database-first approach:</li>
</ul>
<div class="sourceCode" id="cb30"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">dotnet</span> ef dbcontext scaffold <span class="st">&quot;YourConnectionString&quot;</span> Microsoft.EntityFrameworkCore.SqlServer</span></code></pre></div>
<ol start="34" type="1">
<li><strong>How can you use migrations in EF Core to manage schema
changes in production environments?</strong></li>
</ol>
<ul>
<li>Use migrations to track schema changes and update databases
incrementally.</li>
<li>Generate scripts using <code>dotnet ef migrations script</code> for
deployment.</li>
<li>Apply scripts carefully in production to avoid downtime or data
loss.</li>
<li>Example: Deployed a migration script to add a new column in
production:</li>
</ul>
<div class="sourceCode" id="cb31"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">dotnet</span> ef migrations add AddNewColumn</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="ex">dotnet</span> ef database update</span></code></pre></div>
<h3 id="35-what-is-ef-core-and-how-does-it-differ-from-ef6">35. What is
EF Core, and how does it differ from EF6?</h3>
<ul>
<li>EF Core is a lightweight, extensible, and cross-platform version of
Entity Framework.</li>
<li>EF6 is a mature, feature-rich framework limited to .NET Framework,
whereas EF Core supports .NET Core and .NET 5+.</li>
<li>EF Core lacks some features of EF6, like lazy loading proxies by
default but adds advanced features like alternate keys, batching, and
shadow properties.</li>
<li>Example: Migrated an application from EF6 to EF Core to take
advantage of cross-platform compatibility and improved performance.</li>
</ul>
<hr />
<h3
id="36-how-do-you-install-and-configure-ef-core-in-a-net-core-project">36.
How do you install and configure EF Core in a .NET Core project?</h3>
<ul>
<li>Install EF Core packages for your database provider using NuGet,
e.g., <code>Microsoft.EntityFrameworkCore.SqlServer</code>.</li>
<li>Add a <code>DbContext</code> class to define your database context
and entities.</li>
<li>Configure the database connection in the <code>OnConfiguring</code>
method or in <code>Startup.cs</code> using
<code>AddDbContext</code>.</li>
<li>Example: Installed and configured EF Core with SQL Server in a
project:</li>
</ul>
<div class="sourceCode" id="cb32"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">dotnet</span> add package Microsoft.EntityFrameworkCore.SqlServer</span></code></pre></div>
<div class="sourceCode" id="cb33"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>services<span class="op">.</span><span class="fu">AddDbContext</span><span class="op">&lt;</span>AppDbContext<span class="op">&gt;(</span>options <span class="op">=&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    options<span class="op">.</span><span class="fu">UseSqlServer</span><span class="op">(</span>Configuration<span class="op">.</span><span class="fu">GetConnectionString</span><span class="op">(</span><span class="st">&quot;DefaultConnection&quot;</span><span class="op">)));</span></span></code></pre></div>
<hr />
<h3
id="37-what-are-navigation-properties-in-ef-core-and-why-are-they-important">37.
What are navigation properties in EF Core, and why are they
important?</h3>
<ul>
<li>Navigation properties define relationships between entities and
allow navigation across related data.</li>
<li>They can be used to load related data using lazy, eager, or explicit
loading.</li>
<li>Types include collection navigation (e.g.,
<code>ICollection&lt;T&gt;</code>) and reference navigation (e.g.,
single entity).</li>
<li>Example: Used navigation properties to load orders for a
customer:</li>
</ul>
<div class="sourceCode" id="cb34"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> customerWithOrders <span class="op">=</span> context<span class="op">.</span><span class="fu">Customers</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Include</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">Orders</span><span class="op">)</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">FirstOrDefault</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">Id</span> <span class="op">==</span> customerId<span class="op">);</span></span></code></pre></div>
<hr />
<h3 id="38-how-do-you-perform-basic-crud-operations-in-ef-core">38. How
do you perform basic CRUD operations in EF Core?</h3>
<ul>
<li><strong>Create</strong>: Add new entities using <code>Add</code> or
<code>AddRange</code> and save changes using
<code>SaveChanges</code>.</li>
<li><strong>Read</strong>: Use LINQ queries to retrieve data from the
database.</li>
<li><strong>Update</strong>: Modify entity properties and call
<code>SaveChanges</code>.</li>
<li><strong>Delete</strong>: Use <code>Remove</code> or
<code>RemoveRange</code> to delete entities and save changes.</li>
<li>Example: Performed CRUD operations in a product management
module:</li>
</ul>
<div class="sourceCode" id="cb35"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Create</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> product <span class="op">=</span> <span class="kw">new</span> Product <span class="op">{</span> Name <span class="op">=</span> <span class="st">&quot;New Product&quot;</span><span class="op">,</span> Price <span class="op">=</span> <span class="dv">100</span> <span class="op">};</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>context<span class="op">.</span><span class="fu">Products</span><span class="op">.</span><span class="fu">Add</span><span class="op">(</span>product<span class="op">);</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>context<span class="op">.</span><span class="fu">SaveChanges</span><span class="op">();</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">// Read</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> productList <span class="op">=</span> context<span class="op">.</span><span class="fu">Products</span><span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co">// Update</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>product<span class="op">.</span><span class="fu">Price</span> <span class="op">=</span> <span class="dv">120</span><span class="op">;</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>context<span class="op">.</span><span class="fu">SaveChanges</span><span class="op">();</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="co">// Delete</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>context<span class="op">.</span><span class="fu">Products</span><span class="op">.</span><span class="fu">Remove</span><span class="op">(</span>product<span class="op">);</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>context<span class="op">.</span><span class="fu">SaveChanges</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3 id="39-how-does-ef-core-handle-primary-keys-by-default">39. How does
EF Core handle primary keys by default?</h3>
<ul>
<li>EF Core expects a property named <code>Id</code> or
<code>&lt;EntityName&gt;Id</code> as the primary key.</li>
<li>You can configure a primary key explicitly using the Fluent API or
data annotations.</li>
<li>Composite keys must be defined using the Fluent API with
<code>HasKey</code>.</li>
<li>Example: Configured a composite primary key for an
<code>Order</code> entity:</li>
</ul>
<div class="sourceCode" id="cb36"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Order<span class="op">&gt;()</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasKey</span><span class="op">(</span>o <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> o<span class="op">.</span><span class="fu">OrderId</span><span class="op">,</span> o<span class="op">.</span><span class="fu">ProductId</span> <span class="op">});</span></span></code></pre></div>
<hr />
<h3
id="40-how-do-you-configure-composite-keys-in-ef-core-using-fluent-api">40.
How do you configure composite keys in EF Core using Fluent API?</h3>
<ul>
<li>Composite keys are configured using the <code>HasKey</code> method
in the <code>OnModelCreating</code> method.</li>
<li>You need to specify multiple properties that together form the
key.</li>
<li>EF Core does not support composite keys via data annotations.</li>
<li>Example: Configured a composite key for a <code>StudentCourse</code>
junction table:</li>
</ul>
<div class="sourceCode" id="cb37"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>StudentCourse<span class="op">&gt;()</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasKey</span><span class="op">(</span>sc <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> sc<span class="op">.</span><span class="fu">StudentId</span><span class="op">,</span> sc<span class="op">.</span><span class="fu">CourseId</span> <span class="op">});</span></span></code></pre></div>
<hr />
<h3 id="41-how-do-you-track-changes-to-entities-in-ef-core">41. How do
you track changes to entities in EF Core?</h3>
<ul>
<li>EF Core uses <strong>Change Tracker</strong> to monitor changes made
to entities.</li>
<li>Each entity’s state (e.g., Added, Modified, Deleted, Unchanged) is
tracked by EF Core.</li>
<li>Use <code>context.Entry(entity).State</code> to inspect or change
the state.</li>
<li>Example: Checked the state of an updated entity:</li>
</ul>
<div class="sourceCode" id="cb38"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> student <span class="op">=</span> context<span class="op">.</span><span class="fu">Students</span><span class="op">.</span><span class="fu">First</span><span class="op">();</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>student<span class="op">.</span><span class="fu">Name</span> <span class="op">=</span> <span class="st">&quot;Updated Name&quot;</span><span class="op">;</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> state <span class="op">=</span> context<span class="op">.</span><span class="fu">Entry</span><span class="op">(</span>student<span class="op">).</span><span class="fu">State</span><span class="op">;</span> <span class="co">// Outputs EntityState.Modified</span></span></code></pre></div>
<hr />
<h3 id="42-how-do-you-configure-cascading-deletes-in-ef-core">42. How do
you configure cascading deletes in EF Core?</h3>
<ul>
<li>Cascading deletes propagate a delete operation on a parent entity to
its dependent entities.</li>
<li>Use the Fluent API with <code>OnDelete</code> to configure cascading
behavior.</li>
<li>Options include <code>Cascade</code>, <code>Restrict</code>, and
<code>SetNull</code>.</li>
<li>Example: Configured cascading delete for a <code>Student</code> and
their <code>Enrollments</code>:</li>
</ul>
<div class="sourceCode" id="cb39"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Student<span class="op">&gt;()</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasMany</span><span class="op">(</span>s <span class="op">=&gt;</span> s<span class="op">.</span><span class="fu">Enrollments</span><span class="op">)</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">WithOne</span><span class="op">(</span>e <span class="op">=&gt;</span> e<span class="op">.</span><span class="fu">Student</span><span class="op">)</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">OnDelete</span><span class="op">(</span>DeleteBehavior<span class="op">.</span><span class="fu">Cascade</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3
id="43-what-is-the-difference-between-include-and-theninclude-in-ef-core">43.
What is the difference between <code>Include</code> and
<code>ThenInclude</code> in EF Core?</h3>
<ul>
<li><code>Include</code>: Used to load related data for a single level
of navigation property.</li>
<li><code>ThenInclude</code>: Used to load further related data for a
property of a related entity.</li>
<li>Both are essential for eager loading in EF Core.</li>
<li>Example: Used <code>Include</code> and <code>ThenInclude</code> to
fetch a nested relationship:</li>
</ul>
<div class="sourceCode" id="cb40"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> data <span class="op">=</span> context<span class="op">.</span><span class="fu">Orders</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Include</span><span class="op">(</span>o <span class="op">=&gt;</span> o<span class="op">.</span><span class="fu">Customer</span><span class="op">)</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ThenInclude</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">Address</span><span class="op">)</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3
id="44-what-is-the-difference-between-add-update-and-attach-methods-in-ef-core">44.
What is the difference between <code>Add</code>, <code>Update</code>,
and <code>Attach</code> methods in EF Core?</h3>
<ul>
<li><code>Add</code>: Marks an entity as <code>Added</code> to be
inserted into the database on <code>SaveChanges</code>.</li>
<li><code>Update</code>: Marks an entity as <code>Modified</code>,
ensuring all properties are updated.</li>
<li><code>Attach</code>: Tracks an entity without marking it as modified
(used for disconnected scenarios).</li>
<li>Example: Attached an entity to update only specific properties:</li>
</ul>
<div class="sourceCode" id="cb41"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>context<span class="op">.</span><span class="fu">Attach</span><span class="op">(</span>existingUser<span class="op">);</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>existingUser<span class="op">.</span><span class="fu">Email</span> <span class="op">=</span> <span class="st">&quot;newemail@example.com&quot;</span><span class="op">;</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>context<span class="op">.</span><span class="fu">SaveChanges</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3 id="45-how-do-you-seed-initial-data-in-ef-core">45. How do you seed
initial data in EF Core?</h3>
<ul>
<li>Seed data using the <code>HasData</code> method in
<code>OnModelCreating</code>.</li>
<li>This ensures predefined data is inserted during migrations.</li>
<li>Use this for static data like roles, countries, or initial
users.</li>
<li>Example: Seeded initial roles in a system:</li>
</ul>
<div class="sourceCode" id="cb42"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Role<span class="op">&gt;().</span><span class="fu">HasData</span><span class="op">(</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">new</span> Role <span class="op">{</span> Id <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> Name <span class="op">=</span> <span class="st">&quot;Admin&quot;</span> <span class="op">},</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">new</span> Role <span class="op">{</span> Id <span class="op">=</span> <span class="dv">2</span><span class="op">,</span> Name <span class="op">=</span> <span class="st">&quot;User&quot;</span> <span class="op">}</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="op">);</span></span></code></pre></div>
<h3
id="46-what-are-query-types-in-ef-core-and-how-do-they-differ-from-entity-types">46.
What are query types in EF Core, and how do they differ from entity
types?</h3>
<ul>
<li>Query types are used for non-entity types, such as views or raw SQL
queries, that do not have primary keys.</li>
<li>They are read-only and cannot track changes or support CRUD
operations.</li>
<li>Useful for fetching data not mapped to a database table.</li>
<li>Example: Mapped a query type to a SQL view:</li>
</ul>
<div class="sourceCode" id="cb43"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Query</span><span class="op">&lt;</span>SalesReport<span class="op">&gt;()</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToView</span><span class="op">(</span><span class="st">&quot;View_SalesReport&quot;</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3 id="47-how-does-ef-core-support-disconnected-scenarios">47. How does
EF Core support disconnected scenarios?</h3>
<ul>
<li>In disconnected scenarios, entities are detached from the context,
typically during client-server interactions.</li>
<li>EF Core allows reattaching entities using <code>Attach</code> or
<code>Update</code>.</li>
<li>Use change tracking to maintain state transitions effectively.</li>
<li>Example: Updated a disconnected entity in a web application:</li>
</ul>
<div class="sourceCode" id="cb44"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>context<span class="op">.</span><span class="fu">Attach</span><span class="op">(</span>updatedEntity<span class="op">);</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>context<span class="op">.</span><span class="fu">Entry</span><span class="op">(</span>updatedEntity<span class="op">).</span><span class="fu">State</span> <span class="op">=</span> EntityState<span class="op">.</span><span class="fu">Modified</span><span class="op">;</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>context<span class="op">.</span><span class="fu">SaveChanges</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3
id="48-what-are-alternate-keys-in-ef-core-and-when-should-they-be-used">48.
What are alternate keys in EF Core, and when should they be used?</h3>
<ul>
<li>Alternate keys are unique constraints other than the primary
key.</li>
<li>They are useful for enforcing uniqueness on columns like email or
username.</li>
<li>Configure them using the Fluent API with
<code>HasAlternateKey</code>.</li>
<li>Example: Added an alternate key for a <code>User</code> entity’s
<code>Email</code> property:</li>
</ul>
<div class="sourceCode" id="cb45"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>User<span class="op">&gt;()</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasAlternateKey</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">Email</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3 id="49-how-can-ef-core-handle-hierarchical-data-structures">49. How
can EF Core handle hierarchical data structures?</h3>
<ul>
<li>Model hierarchical relationships using self-referencing navigation
properties.</li>
<li>Use Fluent API to configure relationships explicitly.</li>
<li>Load hierarchical data using recursive queries or eager
loading.</li>
<li>Example: Configured a <code>Category</code> entity with a
parent-child relationship:</li>
</ul>
<div class="sourceCode" id="cb46"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Category<span class="op">&gt;()</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasOne</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">Parent</span><span class="op">)</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">WithMany</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">Children</span><span class="op">)</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasForeignKey</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">ParentId</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3 id="50-what-is-the-role-of-value-converters-in-ef-core">50. What is
the role of value converters in EF Core?</h3>
<ul>
<li>Value converters allow transforming property values when reading
from or writing to the database.</li>
<li>Useful for handling custom types or encrypted data.</li>
<li>Configure them in <code>OnModelCreating</code> using
<code>HasConversion</code>.</li>
<li>Example: Converted an <code>enum</code> to a string column:</li>
</ul>
<div class="sourceCode" id="cb47"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Order<span class="op">&gt;()</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Property</span><span class="op">(</span>o <span class="op">=&gt;</span> o<span class="op">.</span><span class="fu">Status</span><span class="op">)</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasConversion</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;();</span></span></code></pre></div>
<hr />
<h3
id="51-how-do-you-configure-a-default-schema-for-a-database-in-ef-core">51.
How do you configure a default schema for a database in EF Core?</h3>
<ul>
<li>Set a default schema globally using the Fluent API in
<code>OnModelCreating</code>.</li>
<li>This applies to all entities unless explicitly overridden.</li>
<li>Useful for multi-tenant or organized database setups.</li>
<li>Example: Configured a default schema for an application:</li>
</ul>
<div class="sourceCode" id="cb48"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">HasDefaultSchema</span><span class="op">(</span><span class="st">&quot;Sales&quot;</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3
id="52-what-are-keyless-entities-in-ef-core-and-how-are-they-used">52.
What are keyless entities in EF Core, and how are they used?</h3>
<ul>
<li>Keyless entities are entities without a primary key.</li>
<li>They are used for read-only queries, like mapping database views or
raw SQL results.</li>
<li>Configure them using the Fluent API with <code>HasNoKey</code>.</li>
<li>Example: Defined a keyless entity for a view:</li>
</ul>
<div class="sourceCode" id="cb49"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>SalesReport<span class="op">&gt;()</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasNoKey</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3
id="53-how-does-ef-core-support-enum-mapping-to-database-columns">53.
How does EF Core support enum mapping to database columns?</h3>
<ul>
<li>Enums can be directly mapped to integer columns by default.</li>
<li>Alternatively, map enums to strings using value converters.</li>
<li>Use <code>HasConversion</code> to customize the mapping.</li>
<li>Example: Mapped an <code>OrderStatus</code> enum to a string:</li>
</ul>
<div class="sourceCode" id="cb50"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Order<span class="op">&gt;()</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Property</span><span class="op">(</span>o <span class="op">=&gt;</span> o<span class="op">.</span><span class="fu">Status</span><span class="op">)</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasConversion</span><span class="op">(</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>        v <span class="op">=&gt;</span> v<span class="op">.</span><span class="fu">ToString</span><span class="op">(),</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>        v <span class="op">=&gt;</span> <span class="op">(</span>OrderStatus<span class="op">)</span>Enum<span class="op">.</span><span class="fu">Parse</span><span class="op">(</span><span class="kw">typeof</span><span class="op">(</span>OrderStatus<span class="op">),</span> v<span class="op">));</span></span></code></pre></div>
<hr />
<h3 id="54-how-can-you-use-database-functions-in-ef-core-queries">54.
How can you use database functions in EF Core queries?</h3>
<ul>
<li>EF Core allows using database functions like <code>LEN</code>,
<code>LOWER</code>, or custom functions in LINQ queries.</li>
<li>Use <code>EF.Functions</code> for built-in functions or
<code>HasDbFunction</code> for custom functions.</li>
<li>Example: Used <code>LEN</code> function in a query:</li>
</ul>
<div class="sourceCode" id="cb51"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> result <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Where</span><span class="op">(</span>u <span class="op">=&gt;</span> EF<span class="op">.</span><span class="fu">Functions</span><span class="op">.</span><span class="fu">Like</span><span class="op">(</span>u<span class="op">.</span><span class="fu">Name</span><span class="op">,</span> <span class="st">&quot;%John%&quot;</span><span class="op">))</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3
id="55-how-does-ef-core-handle-pessimistic-and-optimistic-concurrency">55.
How does EF Core handle pessimistic and optimistic concurrency?</h3>
<ul>
<li>Optimistic concurrency: Uses a concurrency token, like a timestamp,
to detect conflicts.</li>
<li>Pessimistic concurrency: Locks a database row during updates to
prevent conflicts.</li>
<li>EF Core natively supports optimistic concurrency using
<code>RowVersion</code> or similar fields.</li>
<li>Example: Configured a concurrency token in an entity:</li>
</ul>
<div class="sourceCode" id="cb52"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Product<span class="op">&gt;()</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Property</span><span class="op">(</span>p <span class="op">=&gt;</span> p<span class="op">.</span><span class="fu">RowVersion</span><span class="op">)</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">IsRowVersion</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3
id="56-what-are-table-per-hierarchy-tph-and-table-per-type-tpt-inheritance-strategies-in-ef-core">56.
What are table-per-hierarchy (TPH) and table-per-type (TPT) inheritance
strategies in EF Core?</h3>
<ul>
<li><strong>TPH</strong>: All derived types share a single table with a
discriminator column.</li>
<li><strong>TPT</strong>: Each derived type has its own table with
relationships to the base type.</li>
<li>Use Fluent API to configure inheritance strategies.</li>
<li>Example: Configured TPH inheritance for a <code>Shape</code>
hierarchy:</li>
</ul>
<div class="sourceCode" id="cb53"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Shape<span class="op">&gt;()</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasDiscriminator</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;(</span><span class="st">&quot;ShapeType&quot;</span><span class="op">)</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasValue</span><span class="op">&lt;</span>Circle<span class="op">&gt;(</span><span class="st">&quot;Circle&quot;</span><span class="op">)</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasValue</span><span class="op">&lt;</span>Square<span class="op">&gt;(</span><span class="st">&quot;Square&quot;</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3 id="57-how-do-you-configure-computed-columns-in-ef-core">57. How do
you configure computed columns in EF Core?</h3>
<ul>
<li>Computed columns are database columns whose values are calculated by
the database.</li>
<li>Use the Fluent API to define computed columns.</li>
<li>Useful for columns derived from other columns, like totals or
timestamps.</li>
<li>Example: Configured a <code>FullName</code> computed column:</li>
</ul>
<div class="sourceCode" id="cb54"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>User<span class="op">&gt;()</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Property</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">FullName</span><span class="op">)</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasComputedColumnSql</span><span class="op">(</span><span class="st">&quot;[FirstName] + &#39; &#39; + [LastName]&quot;</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3
id="58-how-can-you-track-raw-sql-queries-in-ef-core-for-debugging">58.
How can you track raw SQL queries in EF Core for debugging?</h3>
<ul>
<li>Use EF Core’s <code>ToQueryString</code> to inspect the generated
SQL for LINQ queries.</li>
<li>Use logging frameworks to log SQL commands executed by EF Core.</li>
<li>Enable detailed logs in the <code>DbContext</code> options
configuration.</li>
<li>Example: Debugged a raw SQL query:</li>
</ul>
<div class="sourceCode" id="cb55"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> query <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span><span class="op">.</span><span class="fu">Where</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">Age</span> <span class="op">&gt;</span> <span class="dv">30</span><span class="op">);</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>query<span class="op">.</span><span class="fu">ToQueryString</span><span class="op">());</span></span></code></pre></div>
<hr />
<h3
id="59-what-are-shadow-foreign-keys-and-how-are-they-used-in-ef-core">59.
What are shadow foreign keys, and how are they used in EF Core?</h3>
<ul>
<li>Shadow foreign keys are keys not explicitly defined in the entity
class but used for relationships.</li>
<li>EF Core creates them automatically when navigation properties are
defined.</li>
<li>Access them using <code>EF.Property</code> in queries or
configurations.</li>
<li>Example: Used a shadow foreign key in a query:</li>
</ul>
<div class="sourceCode" id="cb56"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> students <span class="op">=</span> context<span class="op">.</span><span class="fu">Students</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Where</span><span class="op">(</span>s <span class="op">=&gt;</span> EF<span class="op">.</span><span class="fu">Property</span><span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span>s<span class="op">,</span> <span class="st">&quot;CourseId&quot;</span><span class="op">)</span> <span class="op">==</span> <span class="dv">1</span><span class="op">)</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3 id="60-how-does-ef-core-support-partitioned-tables">60. How does EF
Core support partitioned tables?</h3>
<ul>
<li>EF Core doesn’t natively manage partitioning but supports querying
partitioned tables created in the database.</li>
<li>Use Fluent API or SQL for partition-specific configurations.</li>
<li>Optimize queries by targeting partitions directly in raw SQL.</li>
<li>Example: Queried a partitioned table using raw SQL:</li>
</ul>
<div class="sourceCode" id="cb57"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> data <span class="op">=</span> context<span class="op">.</span><span class="fu">Customers</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">FromSqlRaw</span><span class="op">(</span><span class="st">&quot;SELECT * FROM PartitionedTable WHERE PartitionKey = 2024&quot;</span><span class="op">)</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<h3
id="61-how-do-you-map-a-one-to-many-relationship-using-fluent-api-in-ef-core">61.
How do you map a one-to-many relationship using Fluent API in EF
Core?</h3>
<ul>
<li>Define a <code>HasMany</code> relationship in the parent entity and
<code>WithOne</code> in the child entity.</li>
<li>Specify the foreign key using <code>HasForeignKey</code>.</li>
<li>Use navigation properties for bidirectional or unidirectional
relationships.</li>
<li>Example: Configured a one-to-many relationship for
<code>Order</code> and <code>OrderItem</code>:</li>
</ul>
<div class="sourceCode" id="cb58"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Order<span class="op">&gt;()</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasMany</span><span class="op">(</span>o <span class="op">=&gt;</span> o<span class="op">.</span><span class="fu">OrderItems</span><span class="op">)</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">WithOne</span><span class="op">(</span>oi <span class="op">=&gt;</span> oi<span class="op">.</span><span class="fu">Order</span><span class="op">)</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasForeignKey</span><span class="op">(</span>oi <span class="op">=&gt;</span> oi<span class="op">.</span><span class="fu">OrderId</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3
id="62-how-does-ef-core-support-splitting-queries-for-performance-optimization">62.
How does EF Core support splitting queries for performance
optimization?</h3>
<ul>
<li>Splitting queries reduces the SQL query complexity for loading
related data.</li>
<li>Configure it using <code>AsSplitQuery</code> in LINQ for related
entities.</li>
<li>Improves performance by breaking large joins into smaller
queries.</li>
<li>Example: Split query for loading orders and their details:</li>
</ul>
<div class="sourceCode" id="cb59"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> orders <span class="op">=</span> context<span class="op">.</span><span class="fu">Orders</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Include</span><span class="op">(</span>o <span class="op">=&gt;</span> o<span class="op">.</span><span class="fu">OrderDetails</span><span class="op">)</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">AsSplitQuery</span><span class="op">()</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3 id="63-what-is-the-purpose-of-global-query-filters-in-ef-core">63.
What is the purpose of global query filters in EF Core?</h3>
<ul>
<li>Global query filters define a condition applied to all queries on an
entity.</li>
<li>Useful for implementing multi-tenancy, soft deletes, or security
filters.</li>
<li>Defined in <code>OnModelCreating</code> using the Fluent API.</li>
<li>Example: Added a global filter for soft-delete functionality:</li>
</ul>
<div class="sourceCode" id="cb60"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Product<span class="op">&gt;()</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasQueryFilter</span><span class="op">(</span>p <span class="op">=&gt;</span> <span class="op">!</span>p<span class="op">.</span><span class="fu">IsDeleted</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3 id="64-how-do-you-handle-many-to-many-relationships-in-ef-core">64.
How do you handle many-to-many relationships in EF Core?</h3>
<ul>
<li>Define a join table implicitly by navigation properties or
explicitly with an entity class.</li>
<li>Configure the relationship using <code>HasMany</code> and
<code>WithMany</code>.</li>
<li>For explicit join entities, configure the primary key in the join
table.</li>
<li>Example: Configured a many-to-many relationship for
<code>Student</code> and <code>Course</code>:</li>
</ul>
<div class="sourceCode" id="cb61"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Student<span class="op">&gt;()</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasMany</span><span class="op">(</span>s <span class="op">=&gt;</span> s<span class="op">.</span><span class="fu">Courses</span><span class="op">)</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">WithMany</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">Students</span><span class="op">)</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">UsingEntity</span><span class="op">&lt;</span>Enrollment<span class="op">&gt;(</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>        j <span class="op">=&gt;</span> j<span class="op">.</span><span class="fu">HasOne</span><span class="op">(</span>e <span class="op">=&gt;</span> e<span class="op">.</span><span class="fu">Course</span><span class="op">).</span><span class="fu">WithMany</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">Enrollments</span><span class="op">),</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>        j <span class="op">=&gt;</span> j<span class="op">.</span><span class="fu">HasOne</span><span class="op">(</span>e <span class="op">=&gt;</span> e<span class="op">.</span><span class="fu">Student</span><span class="op">).</span><span class="fu">WithMany</span><span class="op">(</span>s <span class="op">=&gt;</span> s<span class="op">.</span><span class="fu">Enrollments</span><span class="op">));</span></span></code></pre></div>
<hr />
<h3 id="65-how-does-ef-core-handle-value-objects-and-what-are-they">65.
How does EF Core handle value objects, and what are they?</h3>
<ul>
<li>Value objects are immutable objects that represent a concept, not a
unique identity (e.g., <code>Address</code>).</li>
<li>Configured using owned types in EF Core with
<code>OwnsOne</code>.</li>
<li>Changes to value objects require replacing the entire object.</li>
<li>Example: Configured an owned type for <code>Address</code>:</li>
</ul>
<div class="sourceCode" id="cb62"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Customer<span class="op">&gt;()</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">OwnsOne</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">Address</span><span class="op">,</span> a <span class="op">=&gt;</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>        a<span class="op">.</span><span class="fu">Property</span><span class="op">(</span>ad <span class="op">=&gt;</span> ad<span class="op">.</span><span class="fu">Street</span><span class="op">).</span><span class="fu">HasColumnName</span><span class="op">(</span><span class="st">&quot;StreetName&quot;</span><span class="op">);</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">});</span></span></code></pre></div>
<hr />
<h3 id="66-what-is-the-role-of-database-providers-in-ef-core">66. What
is the role of database providers in EF Core?</h3>
<ul>
<li>Database providers enable EF Core to work with different databases
(e.g., SQL Server, PostgreSQL, SQLite).</li>
<li>You install the provider package to enable support for the chosen
database.</li>
<li>Providers extend EF Core functionality specific to the
database.</li>
<li>Example: Used <code>Microsoft.EntityFrameworkCore.SqlServer</code>
for SQL Server in a project.</li>
</ul>
<hr />
<h3 id="67-how-do-you-implement-soft-delete-in-ef-core">67. How do you
implement soft delete in EF Core?</h3>
<ul>
<li>Use a boolean property like <code>IsDeleted</code> in the entity
class.</li>
<li>Apply a global query filter to exclude soft-deleted records.</li>
<li>Update the <code>IsDeleted</code> flag instead of deleting the
record.</li>
<li>Example: Configured soft delete for a <code>Product</code>
entity:</li>
</ul>
<div class="sourceCode" id="cb63"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Product<span class="op">&gt;()</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasQueryFilter</span><span class="op">(</span>p <span class="op">=&gt;</span> <span class="op">!</span>p<span class="op">.</span><span class="fu">IsDeleted</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3 id="68-how-does-ef-core-support-spatial-data-types">68. How does EF
Core support spatial data types?</h3>
<ul>
<li>EF Core supports spatial data like geography and geometry types
through extensions like <code>NetTopologySuite</code>.</li>
<li>Configure it by adding the spatial data package for your database
provider.</li>
<li>Use spatial methods such as distance calculations in LINQ.</li>
<li>Example: Queried entities based on spatial distance:</li>
</ul>
<div class="sourceCode" id="cb64"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> nearbyLocations <span class="op">=</span> context<span class="op">.</span><span class="fu">Locations</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Where</span><span class="op">(</span>l <span class="op">=&gt;</span> l<span class="op">.</span><span class="fu">Location</span><span class="op">.</span><span class="fu">Distance</span><span class="op">(</span>targetLocation<span class="op">)</span> <span class="op">&lt;</span> <span class="dv">1000</span><span class="op">)</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3 id="69-how-can-ef-core-integrate-with-database-views">69. How can EF
Core integrate with database views?</h3>
<ul>
<li>Map a database view to an entity using the Fluent API with
<code>ToView</code>.</li>
<li>Views are read-only unless explicitly mapped with appropriate
configurations.</li>
<li>Useful for fetching aggregated or complex data.</li>
<li>Example: Mapped a <code>SalesReport</code> view to an entity:</li>
</ul>
<div class="sourceCode" id="cb65"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>SalesReport<span class="op">&gt;()</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToView</span><span class="op">(</span><span class="st">&quot;View_SalesReport&quot;</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3
id="70-how-do-you-configure-alternate-schemas-for-entities-in-ef-core">70.
How do you configure alternate schemas for entities in EF Core?</h3>
<ul>
<li>Specify a schema for an entity using the Fluent API with
<code>ToTable</code>.</li>
<li>This allows organizing entities across different schemas.</li>
<li>Default schema configuration can also be applied globally.</li>
<li>Example: Configured a <code>Product</code> entity in the
<code>Inventory</code> schema:</li>
</ul>
<div class="sourceCode" id="cb66"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Product<span class="op">&gt;()</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToTable</span><span class="op">(</span><span class="st">&quot;Products&quot;</span><span class="op">,</span> schema<span class="op">:</span> <span class="st">&quot;Inventory&quot;</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3
id="71-how-does-ef-core-support-raw-sql-queries-with-parameterization">71.
How does EF Core support raw SQL queries with parameterization?</h3>
<ul>
<li>Execute raw SQL using <code>FromSql</code> or
<code>ExecuteSqlRaw</code> with parameters.</li>
<li>Parameterized queries prevent SQL injection.</li>
<li>Suitable for complex queries not supported by LINQ.</li>
<li>Example: Queried data with raw SQL and parameters:</li>
</ul>
<div class="sourceCode" id="cb67"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> products <span class="op">=</span> context<span class="op">.</span><span class="fu">Products</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">FromSqlRaw</span><span class="op">(</span><span class="st">&quot;SELECT * FROM Products WHERE Price &gt; {0}&quot;</span><span class="op">,</span> <span class="dv">50</span><span class="op">)</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3 id="72-how-do-you-configure-table-splitting-in-ef-core">72. How do
you configure table splitting in EF Core?</h3>
<ul>
<li>Table splitting maps multiple entities to a single table.</li>
<li>Configure it using the Fluent API with <code>ToTable</code> and
<code>HasOne</code>.</li>
<li>Useful for optimizing data storage and relationships.</li>
<li>Example: Configured table splitting for <code>Person</code> and
<code>PersonDetail</code>:</li>
</ul>
<div class="sourceCode" id="cb68"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Person<span class="op">&gt;()</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToTable</span><span class="op">(</span><span class="st">&quot;People&quot;</span><span class="op">)</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasOne</span><span class="op">(</span>p <span class="op">=&gt;</span> p<span class="op">.</span><span class="fu">PersonDetail</span><span class="op">)</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">WithOne</span><span class="op">(</span>pd <span class="op">=&gt;</span> pd<span class="op">.</span><span class="fu">Person</span><span class="op">)</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasForeignKey</span><span class="op">&lt;</span>PersonDetail<span class="op">&gt;(</span>pd <span class="op">=&gt;</span> pd<span class="op">.</span><span class="fu">PersonId</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3
id="73-what-are-the-limitations-of-using-ef-core-with-large-scale-systems">73.
What are the limitations of using EF Core with large-scale systems?</h3>
<ul>
<li>Performance can degrade with large datasets if not optimized (e.g.,
lazy loading).</li>
<li>Migrations may become cumbersome with complex schemas.</li>
<li>Query generation may not always match handcrafted SQL.</li>
<li>Example: Optimized EF Core by splitting queries and using stored
procedures for critical operations.</li>
</ul>
<hr />
<h3
id="74-how-does-ef-core-handle-shadow-properties-and-what-are-they-used-for">74.
How does EF Core handle shadow properties, and what are they used
for?</h3>
<ul>
<li>Shadow properties are properties not defined in the entity class but
tracked by EF Core.</li>
<li>Used for metadata like foreign keys or audit fields (e.g.,
<code>CreatedAt</code>).</li>
<li>Access shadow properties using <code>EF.Property</code>.</li>
<li>Example: Queried using a shadow property for
<code>CreatedAt</code>:</li>
</ul>
<div class="sourceCode" id="cb69"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> recentUsers <span class="op">=</span> context<span class="op">.</span><span class="fu">Users</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Where</span><span class="op">(</span>u <span class="op">=&gt;</span> EF<span class="op">.</span><span class="fu">Property</span><span class="op">&lt;</span>DateTime<span class="op">&gt;(</span>u<span class="op">,</span> <span class="st">&quot;CreatedAt&quot;</span><span class="op">)</span> <span class="op">&gt;</span> DateTime<span class="op">.</span><span class="fu">Now</span><span class="op">.</span><span class="fu">AddDays</span><span class="op">(-</span><span class="dv">7</span><span class="op">))</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3
id="75-what-is-entity-splitting-and-how-do-you-implement-it-in-ef-core">75.
What is entity splitting, and how do you implement it in EF Core?</h3>
<ul>
<li>Entity splitting maps different properties of an entity to separate
tables.</li>
<li>Useful for organizing large entities into manageable pieces.</li>
<li>Configure it using Fluent API with <code>ToTable</code>.</li>
<li>Example: Split a <code>User</code> entity into <code>User</code> and
<code>UserDetails</code> tables:</li>
</ul>
<div class="sourceCode" id="cb70"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>User<span class="op">&gt;()</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToTable</span><span class="op">(</span><span class="st">&quot;Users&quot;</span><span class="op">)</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Property</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">Id</span><span class="op">).</span><span class="fu">IsRequired</span><span class="op">();</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>User<span class="op">&gt;()</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToTable</span><span class="op">(</span><span class="st">&quot;UserDetails&quot;</span><span class="op">)</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Property</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">Address</span><span class="op">).</span><span class="fu">IsRequired</span><span class="op">();</span></span></code></pre></div>
<h3
id="76-how-does-ef-core-handle-cascade-delete-and-how-can-it-be-configured">76.
How does EF Core handle cascade delete, and how can it be
configured?</h3>
<ul>
<li>Cascade delete automatically deletes dependent entities when a
principal entity is removed.</li>
<li>Configure cascade behavior using <code>OnDelete</code> in the Fluent
API.</li>
<li>Supported behaviors include <code>Cascade</code>,
<code>SetNull</code>, and <code>Restrict</code>.</li>
<li>Example: Configured cascade delete for <code>Order</code> and
<code>OrderItem</code>:</li>
</ul>
<div class="sourceCode" id="cb71"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Order<span class="op">&gt;()</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasMany</span><span class="op">(</span>o <span class="op">=&gt;</span> o<span class="op">.</span><span class="fu">OrderItems</span><span class="op">)</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">WithOne</span><span class="op">(</span>oi <span class="op">=&gt;</span> oi<span class="op">.</span><span class="fu">Order</span><span class="op">)</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">OnDelete</span><span class="op">(</span>DeleteBehavior<span class="op">.</span><span class="fu">Cascade</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3 id="77-how-can-you-create-custom-conventions-in-ef-core">77. How can
you create custom conventions in EF Core?</h3>
<ul>
<li>Custom conventions apply specific configurations globally to
entities or properties.</li>
<li>Use <code>IModelFinalizingConvention</code> or configure in
<code>OnModelCreating</code>.</li>
<li>Useful for enforcing uniform naming or validation rules.</li>
<li>Example: Configured a custom convention for table names:</li>
</ul>
<div class="sourceCode" id="cb72"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> <span class="op">(</span><span class="dt">var</span> entity <span class="kw">in</span> modelBuilder<span class="op">.</span><span class="fu">Model</span><span class="op">.</span><span class="fu">GetEntityTypes</span><span class="op">())</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">(</span>entity<span class="op">.</span><span class="fu">Name</span><span class="op">).</span><span class="fu">ToTable</span><span class="op">(</span>entity<span class="op">.</span><span class="fu">GetTableName</span><span class="op">().</span><span class="fu">ToLower</span><span class="op">());</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3
id="78-how-does-ef-core-handle-data-seeding-and-how-can-it-be-implemented">78.
How does EF Core handle data seeding, and how can it be
implemented?</h3>
<ul>
<li>Data seeding populates the database with initial or default data
during migrations.</li>
<li>Define seed data in <code>OnModelCreating</code> using
<code>HasData</code>.</li>
<li>Seeded data is included in migration scripts.</li>
<li>Example: Seeded an admin user into the <code>Users</code>
table:</li>
</ul>
<div class="sourceCode" id="cb73"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>User<span class="op">&gt;().</span><span class="fu">HasData</span><span class="op">(</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">new</span> User <span class="op">{</span> Id <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> Name <span class="op">=</span> <span class="st">&quot;Admin&quot;</span><span class="op">,</span> Role <span class="op">=</span> <span class="st">&quot;Administrator&quot;</span> <span class="op">}</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="op">);</span></span></code></pre></div>
<hr />
<h3 id="79-how-do-you-handle-json-columns-in-ef-core">79. How do you
handle JSON columns in EF Core?</h3>
<ul>
<li>JSON columns are supported through providers like PostgreSQL or SQL
Server.</li>
<li>Map a property to a JSON column using Fluent API.</li>
<li>Useful for storing structured data in a single column.</li>
<li>Example: Mapped a JSON column for <code>OrderDetails</code>:</li>
</ul>
<div class="sourceCode" id="cb74"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Order<span class="op">&gt;()</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Property</span><span class="op">(</span>o <span class="op">=&gt;</span> o<span class="op">.</span><span class="fu">OrderDetails</span><span class="op">)</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasColumnType</span><span class="op">(</span><span class="st">&quot;jsonb&quot;</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3
id="80-what-are-owned-entity-types-and-how-do-you-configure-them-in-ef-core">80.
What are owned entity types, and how do you configure them in EF
Core?</h3>
<ul>
<li>Owned types represent value objects owned by a single entity.</li>
<li>Configure using <code>OwnsOne</code> in the Fluent API.</li>
<li>Stored in the same table as the owning entity by default.</li>
<li>Example: Configured an owned <code>Address</code> type for a
<code>Customer</code>:</li>
</ul>
<div class="sourceCode" id="cb75"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Customer<span class="op">&gt;()</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">OwnsOne</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">Address</span><span class="op">,</span> a <span class="op">=&gt;</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>        a<span class="op">.</span><span class="fu">Property</span><span class="op">(</span>ad <span class="op">=&gt;</span> ad<span class="op">.</span><span class="fu">City</span><span class="op">).</span><span class="fu">HasColumnName</span><span class="op">(</span><span class="st">&quot;City&quot;</span><span class="op">);</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">});</span></span></code></pre></div>
<hr />
<h3 id="81-how-does-ef-core-handle-default-values-for-columns">81. How
does EF Core handle default values for columns?</h3>
<ul>
<li>Default values can be set for columns using
<code>HasDefaultValue</code> or <code>HasDefaultValueSql</code>.</li>
<li>Useful for timestamps, GUIDs, or predefined constants.</li>
<li>Defaults are applied during insertion if a value is not
provided.</li>
<li>Example: Configured a default value for <code>CreatedAt</code>:</li>
</ul>
<div class="sourceCode" id="cb76"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>User<span class="op">&gt;()</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Property</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">CreatedAt</span><span class="op">)</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasDefaultValueSql</span><span class="op">(</span><span class="st">&quot;GETDATE()&quot;</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3
id="82-what-are-the-benefits-and-limitations-of-shadow-properties-in-ef-core">82.
What are the benefits and limitations of shadow properties in EF
Core?</h3>
<ul>
<li><strong>Benefits</strong>: Simplifies entity models by avoiding
explicit property definitions.</li>
<li><strong>Limitations</strong>: Harder to query and debug since they
are not in the entity class.</li>
<li>Example: Accessed a shadow property in a LINQ query:</li>
</ul>
<div class="sourceCode" id="cb77"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> recentOrders <span class="op">=</span> context<span class="op">.</span><span class="fu">Orders</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">Where</span><span class="op">(</span>o <span class="op">=&gt;</span> EF<span class="op">.</span><span class="fu">Property</span><span class="op">&lt;</span>DateTime<span class="op">&gt;(</span>o<span class="op">,</span> <span class="st">&quot;CreatedAt&quot;</span><span class="op">)</span> <span class="op">&gt;</span> DateTime<span class="op">.</span><span class="fu">UtcNow</span><span class="op">.</span><span class="fu">AddDays</span><span class="op">(-</span><span class="dv">7</span><span class="op">))</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3 id="83-how-do-you-map-composite-keys-in-ef-core">83. How do you map
composite keys in EF Core?</h3>
<ul>
<li>Composite keys combine multiple properties as a primary key.</li>
<li>Configure using the Fluent API with <code>HasKey</code>.</li>
<li>Example: Configured a composite key for <code>Order</code> and
<code>Product</code> in <code>OrderDetail</code>:</li>
</ul>
<div class="sourceCode" id="cb78"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>OrderDetail<span class="op">&gt;()</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasKey</span><span class="op">(</span>od <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> od<span class="op">.</span><span class="fu">OrderId</span><span class="op">,</span> od<span class="op">.</span><span class="fu">ProductId</span> <span class="op">});</span></span></code></pre></div>
<hr />
<h3
id="84-how-does-ef-core-support-raw-sql-queries-with-projections">84.
How does EF Core support raw SQL queries with projections?</h3>
<ul>
<li>Use <code>FromSql</code> with projections to map raw SQL query
results to DTOs or anonymous types.</li>
<li>Useful for optimizing queries or fetching non-entity data.</li>
<li>Example: Fetched data into a DTO using raw SQL:</li>
</ul>
<div class="sourceCode" id="cb79"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> salesData <span class="op">=</span> context<span class="op">.</span><span class="fu">SalesReports</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">FromSqlRaw</span><span class="op">(</span><span class="st">&quot;SELECT ProductName, SUM(Sales) AS TotalSales FROM Sales GROUP BY ProductName&quot;</span><span class="op">)</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span></code></pre></div>
<hr />
<h3 id="85-how-do-you-handle-composite-foreign-keys-in-ef-core">85. How
do you handle composite foreign keys in EF Core?</h3>
<ul>
<li>Composite foreign keys map multiple properties as a foreign
key.</li>
<li>Configure using Fluent API with <code>HasForeignKey</code>.</li>
<li>Example: Configured a composite foreign key in
<code>OrderDetail</code>:</li>
</ul>
<div class="sourceCode" id="cb80"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>OrderDetail<span class="op">&gt;()</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasOne</span><span class="op">(</span>od <span class="op">=&gt;</span> od<span class="op">.</span><span class="fu">Product</span><span class="op">)</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">WithMany</span><span class="op">(</span>p <span class="op">=&gt;</span> p<span class="op">.</span><span class="fu">OrderDetails</span><span class="op">)</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasForeignKey</span><span class="op">(</span>od <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> od<span class="op">.</span><span class="fu">OrderId</span><span class="op">,</span> od<span class="op">.</span><span class="fu">ProductId</span> <span class="op">});</span></span></code></pre></div>
<hr />
<h3 id="86-how-does-ef-core-handle-transaction-management">86. How does
EF Core handle transaction management?</h3>
<ul>
<li>EF Core supports transactions with <code>BeginTransaction</code>,
<code>Commit</code>, and <code>Rollback</code>.</li>
<li>Use <code>DbContextTransaction</code> for explicit control or
<code>TransactionScope</code> for distributed transactions.</li>
<li>Example: Handled a transaction to update multiple entities:</li>
</ul>
<div class="sourceCode" id="cb81"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="dt">var</span> transaction <span class="op">=</span> context<span class="op">.</span><span class="fu">Database</span><span class="op">.</span><span class="fu">BeginTransaction</span><span class="op">();</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="kw">try</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">Users</span><span class="op">.</span><span class="fu">Add</span><span class="op">(</span><span class="kw">new</span> User <span class="op">{</span> Name <span class="op">=</span> <span class="st">&quot;John&quot;</span> <span class="op">});</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">SaveChanges</span><span class="op">();</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">Orders</span><span class="op">.</span><span class="fu">Add</span><span class="op">(</span><span class="kw">new</span> Order <span class="op">{</span> UserId <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> Total <span class="op">=</span> <span class="dv">100</span> <span class="op">});</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">SaveChanges</span><span class="op">();</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>    transaction<span class="op">.</span><span class="fu">Commit</span><span class="op">();</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a><span class="kw">catch</span></span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a>    transaction<span class="op">.</span><span class="fu">Rollback</span><span class="op">();</span></span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3
id="87-how-do-you-optimize-performance-in-ef-core-for-large-datasets">87.
How do you optimize performance in EF Core for large datasets?</h3>
<ul>
<li>Use projection to reduce data size in queries.</li>
<li>Avoid unnecessary <code>Include</code> for navigation
properties.</li>
<li>Use compiled queries for frequently used LINQ queries.</li>
<li>Example: Used a compiled query for better performance:</li>
</ul>
<div class="sourceCode" id="cb82"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> compiledQuery <span class="op">=</span> EF<span class="op">.</span><span class="fu">CompileQuery</span><span class="op">((</span>MyDbContext ctx<span class="op">,</span> <span class="dt">int</span> age<span class="op">)</span> <span class="op">=&gt;</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>    ctx<span class="op">.</span><span class="fu">Users</span><span class="op">.</span><span class="fu">Where</span><span class="op">(</span>u <span class="op">=&gt;</span> u<span class="op">.</span><span class="fu">Age</span> <span class="op">&gt;</span> age<span class="op">));</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> result <span class="op">=</span> <span class="fu">compiledQuery</span><span class="op">(</span>context<span class="op">,</span> <span class="dv">30</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3
id="88-how-can-you-map-entities-to-database-functions-in-ef-core">88.
How can you map entities to database functions in EF Core?</h3>
<ul>
<li>Map database functions using <code>HasDbFunction</code> in
<code>OnModelCreating</code>.</li>
<li>Use them in LINQ queries as custom methods.</li>
<li>Example: Mapped a database function for calculating discounts:</li>
</ul>
<div class="sourceCode" id="cb83"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">HasDbFunction</span><span class="op">(()</span> <span class="op">=&gt;</span> MyDbContext<span class="op">.</span><span class="fu">CalculateDiscount</span><span class="op">(</span><span class="dv">0</span><span class="op">))</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">HasName</span><span class="op">(</span><span class="st">&quot;CalculateDiscount&quot;</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3
id="89-what-are-split-entities-in-ef-core-and-how-do-they-improve-storage">89.
What are split entities in EF Core, and how do they improve
storage?</h3>
<ul>
<li>Split entities map different sets of properties to separate
tables.</li>
<li>Useful for large entities with optional or infrequently used
properties.</li>
<li>Example: Split a <code>User</code> entity into two tables:</li>
</ul>
<div class="sourceCode" id="cb84"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>User<span class="op">&gt;().</span><span class="fu">SplitToTable</span><span class="op">(</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Users&quot;</span><span class="op">,</span> u <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> u<span class="op">.</span><span class="fu">Id</span><span class="op">,</span> u<span class="op">.</span><span class="fu">Name</span> <span class="op">},</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;UserDetails&quot;</span><span class="op">,</span> ud <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> ud<span class="op">.</span><span class="fu">Id</span><span class="op">,</span> ud<span class="op">.</span><span class="fu">Address</span> <span class="op">});</span></span></code></pre></div>
<hr />
<h3 id="90-how-does-ef-core-support-temporal-tables">90. How does EF
Core support temporal tables?</h3>
<ul>
<li>Temporal tables track changes over time, storing historical
data.</li>
<li>Enable using the Fluent API and include <code>PeriodStart</code> and
<code>PeriodEnd</code>.</li>
<li>Example: Configured a temporal table for <code>Orders</code>:</li>
</ul>
<div class="sourceCode" id="cb85"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>modelBuilder<span class="op">.</span><span class="fu">Entity</span><span class="op">&lt;</span>Order<span class="op">&gt;()</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">ToTable</span><span class="op">(</span><span class="st">&quot;Orders&quot;</span><span class="op">,</span> table <span class="op">=&gt;</span> table<span class="op">.</span><span class="fu">IsTemporal</span><span class="op">());</span></span></code></pre></div>
</body>
</html>
