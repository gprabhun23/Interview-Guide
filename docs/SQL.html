<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>in</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p><strong>1. How do you implement a try-catch block in SQL Server for
error handling?</strong></p>
<ul>
<li>A <code>TRY...CATCH</code> block in SQL Server captures errors
during the execution of SQL code.</li>
<li>The <code>TRY</code> block contains the code that might generate an
error, while the <code>CATCH</code> block handles the error.</li>
<li>In the <code>CATCH</code> block, you can retrieve error details
using functions like <code>ERROR_MESSAGE()</code> and
<code>ERROR_NUMBER()</code>.</li>
<li>You can use error handling to log errors, rollback transactions, or
provide custom error messages.</li>
<li>Example: I implemented error handling to log transactional failures
in an e-commerce platform.</li>
</ul>
<div class="sourceCode" id="cb1"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> TRY  </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">BEGIN</span> <span class="kw">TRANSACTION</span>  </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">UPDATE</span> Products <span class="kw">SET</span> Stock <span class="op">=</span> Stock <span class="op">-</span> <span class="dv">1</span> <span class="kw">WHERE</span> ProductID <span class="op">=</span> <span class="dv">1</span>;  </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Simulate error  </span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">INSERT</span> <span class="kw">INTO</span> Orders(ProductID, Quantity) <span class="kw">VALUES</span> (<span class="dv">1</span>, <span class="st">&#39;INVALID_DATA&#39;</span>);  </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">COMMIT</span> <span class="kw">TRANSACTION</span>  </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span> TRY  </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> CATCH  </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ROLLBACK</span> <span class="kw">TRANSACTION</span>  </span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    PRINT <span class="st">&#39;Error occurred: &#39;</span> <span class="op">+</span> ERROR_MESSAGE();  </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span> CATCH  </span></code></pre></div>
<p><strong>2. What are correlated subqueries, and when would you use
them in SQL?</strong></p>
<ul>
<li>A correlated subquery is a subquery that depends on the outer query
for its values.</li>
<li>It is executed once for each row processed by the outer query.</li>
<li>They are commonly used for row-by-row comparisons or
calculations.</li>
<li>Correlated subqueries can be inefficient for large datasets due to
repeated execution.</li>
<li>Example: I used correlated subqueries to calculate rank in an
employee salary comparison system.</li>
</ul>
<div class="sourceCode" id="cb2"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> e1.EmployeeID, e1.Salary,  </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>       (<span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">FROM</span> Employees e2 <span class="kw">WHERE</span> e2.Salary <span class="op">&gt;</span> e1.Salary) <span class="kw">AS</span> <span class="fu">Rank</span>  </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Employees e1;  </span></code></pre></div>
<p><strong>3. How do you configure isolation levels in SQL transactions,
and why are they important?</strong></p>
<ul>
<li>Isolation levels determine how transactions interact with each other
in SQL.</li>
<li>Common levels are <code>READ UNCOMMITTED</code>,
<code>READ COMMITTED</code>, <code>REPEATABLE READ</code>, and
<code>SERIALIZABLE</code>.</li>
<li>Lower isolation levels improve performance but can cause issues like
dirty reads or phantom reads.</li>
<li>Higher isolation levels ensure data consistency but may increase
locking and reduce concurrency.</li>
<li>Example: I configured <code>READ COMMITTED</code> to balance
consistency and performance in a banking application.</li>
</ul>
<div class="sourceCode" id="cb3"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SET</span> <span class="kw">TRANSACTION</span> <span class="kw">ISOLATION</span> <span class="kw">LEVEL</span> <span class="kw">READ</span> <span class="kw">COMMITTED</span>;  </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> <span class="kw">TRANSACTION</span>;  </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> Accounts <span class="kw">SET</span> Balance <span class="op">=</span> Balance <span class="op">-</span> <span class="dv">100</span> <span class="kw">WHERE</span> AccountID <span class="op">=</span> <span class="dv">1</span>;  </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> Accounts <span class="kw">SET</span> Balance <span class="op">=</span> Balance <span class="op">+</span> <span class="dv">100</span> <span class="kw">WHERE</span> AccountID <span class="op">=</span> <span class="dv">2</span>;  </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="kw">COMMIT</span> <span class="kw">TRANSACTION</span>;  </span></code></pre></div>
<p><strong>4. What is a dead letter queue in SQL-based workflows, and
how do you handle it?</strong></p>
<ul>
<li>A dead letter queue stores messages that fail to be processed.</li>
<li>It is used to isolate and troubleshoot problematic
transactions.</li>
<li>Messages can be analyzed for root cause, such as format errors or
system issues.</li>
<li>Regular monitoring and automated retries can improve system
resilience.</li>
<li>Example: I configured a dead letter queue in a Service Bus to handle
unprocessable orders.</li>
</ul>
<div class="sourceCode" id="cb4"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Example for handling dead messages  </span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> DeadLetterQueue <span class="kw">WHERE</span> ErrorCode <span class="kw">IS</span> <span class="kw">NOT</span> <span class="kw">NULL</span>;  </span></code></pre></div>
<p><strong>5. How do you optimize queries involving large joins in SQL
Server?</strong></p>
<ul>
<li>Ensure appropriate indexes on join columns for efficient
lookup.</li>
<li>Reduce the dataset size with filters or pre-aggregations before
joining.</li>
<li>Avoid Cartesian joins by using proper <code>ON</code>
conditions.</li>
<li>Use query hints like <code>OPTION (HASH JOIN)</code> for specific
join strategies.</li>
<li>Example: I optimized a report generation query with large joins
using indexing.</li>
</ul>
<div class="sourceCode" id="cb5"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">INDEX</span> idx_Orders_CustomerID <span class="kw">ON</span> Orders(CustomerID);  </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> o.OrderID, c.Name  </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Orders o  </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Customers c <span class="kw">ON</span> o.CustomerID <span class="op">=</span> c.CustomerID;  </span></code></pre></div>
<p><strong>6. What are the differences between temp tables and table
variables, and when would you choose one over the other?</strong></p>
<ul>
<li>Temp tables (<code>#TempTable</code>) are created in the
<code>tempdb</code> database and can have indexes.</li>
<li>Table variables (<code>@TableVariable</code>) are stored in memory
and generally have a smaller scope.</li>
<li>Temp tables can be shared between procedures if they exist in the
same session, while table variables cannot.</li>
<li>Temp tables are better for large datasets and complex operations,
while table variables work well for smaller data and simple tasks.</li>
<li>Example: I used temp tables for large joins and aggregations in
reporting, while table variables were used for lightweight data
passing.</li>
</ul>
<div class="sourceCode" id="cb6"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Temp table example  </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> #TempTable (<span class="kw">ID</span> <span class="dt">INT</span>, Name <span class="dt">NVARCHAR</span>(<span class="dv">50</span>));  </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> #TempTable <span class="kw">VALUES</span> (<span class="dv">1</span>, <span class="st">&#39;John&#39;</span>), (<span class="dv">2</span>, <span class="st">&#39;Jane&#39;</span>);  </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> #TempTable;  </span></code></pre></div>
<p><strong>7. What is the role of primary and secondary replicas in SQL
Server Always On Availability Groups?</strong></p>
<ul>
<li>The primary replica handles read and write operations and manages
the data synchronization.</li>
<li>Secondary replicas provide high availability and can be used for
read-only queries.</li>
<li>Replication modes include synchronous (guaranteed consistency) and
asynchronous (faster but eventual consistency).</li>
<li>Automatic failover occurs between primary and secondary replicas
during downtime in synchronous mode.</li>
<li>Example: I configured Always On for high availability in a financial
system to ensure uninterrupted service.</li>
</ul>
<div class="sourceCode" id="cb7"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Query on a read-only secondary replica  </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Sales <span class="kw">WITH</span> (NOLOCK);  </span></code></pre></div>
<p><strong>8. How do you use Common Table Expressions (CTEs) in SQL to
simplify complex queries?</strong></p>
<ul>
<li>A CTE is a temporary result set defined within the execution scope
of a single SQL statement.</li>
<li>It simplifies complex queries by breaking them into smaller,
manageable parts.</li>
<li>CTEs can be recursive, making them useful for hierarchical
data.</li>
<li>They improve readability and can replace subqueries or derived
tables.</li>
<li>Example: I used a recursive CTE to query hierarchical employee
data.</li>
</ul>
<div class="sourceCode" id="cb8"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> EmployeeHierarchy <span class="kw">AS</span> (  </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> EmployeeID, ManagerID, Name  </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> Employees  </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">WHERE</span> ManagerID <span class="kw">IS</span> <span class="kw">NULL</span>  </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">UNION</span> <span class="kw">ALL</span>  </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> e.EmployeeID, e.ManagerID, e.Name  </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> Employees e  </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">INNER</span> <span class="kw">JOIN</span> EmployeeHierarchy eh <span class="kw">ON</span> e.ManagerID <span class="op">=</span> eh.EmployeeID  </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>)  </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> EmployeeHierarchy;  </span></code></pre></div>
<p><strong>9. Explain the purpose and benefits of indexed views in SQL
Server, and how do they improve query performance?</strong></p>
<ul>
<li>Indexed views store query results physically, improving performance
for repetitive queries.</li>
<li>They are especially useful for pre-aggregated data or frequently
accessed joins.</li>
<li>Unlike standard views, they require schema binding and specific
design rules.</li>
<li>Query optimizer can use indexed views automatically if their indexed
columns are included in the query.</li>
<li>Example: I used indexed views to speed up dashboard reporting in a
retail application.</li>
</ul>
<div class="sourceCode" id="cb9"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">VIEW</span> SalesSummary <span class="kw">WITH</span> SCHEMABINDING <span class="kw">AS</span>  </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ProductID, <span class="fu">SUM</span>(Quantity) <span class="kw">AS</span> TotalQuantity  </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Sales  </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> ProductID;  </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">UNIQUE</span> CLUSTERED <span class="kw">INDEX</span> idx_SalesSummary <span class="kw">ON</span> SalesSummary(ProductID);  </span></code></pre></div>
<p><strong>10. How do you optimize SQL queries for performance in
high-traffic systems?</strong></p>
<ul>
<li>Use appropriate indexes to minimize table scans.</li>
<li>Optimize query plans with <code>EXPLAIN</code> or
<code>Execution Plan</code>.</li>
<li>Reduce query complexity with pre-aggregations or intermediate
tables.</li>
<li>Cache results for frequently accessed data using in-memory
solutions.</li>
<li>Example: I reduced query latency by adding non-clustered indexes in
a ticket booking system.</li>
</ul>
<div class="sourceCode" id="cb10"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> NONCLUSTERED <span class="kw">INDEX</span> idx_Booking_Date <span class="kw">ON</span> Bookings(BookingDate);  </span></code></pre></div>
<p><strong>11. What are the differences between clustered and
non-clustered indexes?</strong></p>
<ul>
<li>Clustered indexes sort and store data rows in the table based on the
key.</li>
<li>Non-clustered indexes store pointers to the actual data rows.</li>
<li>A table can have only one clustered index but multiple non-clustered
indexes.</li>
<li>Clustered indexes are better for range queries, while non-clustered
ones excel in lookups.</li>
<li>Example: I used clustered indexes for primary keys and non-clustered
for search columns.</li>
</ul>
<div class="sourceCode" id="cb11"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> CLUSTERED <span class="kw">INDEX</span> idx_OrderID <span class="kw">ON</span> Orders(OrderID);  </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> NONCLUSTERED <span class="kw">INDEX</span> idx_CustomerID <span class="kw">ON</span> Orders(CustomerID);  </span></code></pre></div>
<p><strong>12. How do you create and use stored procedures with optional
parameters?</strong></p>
<ul>
<li>Optional parameters have default values in the procedure
definition.</li>
<li>If a value is not provided during execution, the default value is
used.</li>
<li>Simplifies query customization by reusing the same procedure.</li>
<li>Reduces the need for multiple procedure versions.</li>
<li>Example: I created a stored procedure for filtering products by
category or price range.</li>
</ul>
<div class="sourceCode" id="cb12"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PROCEDURE</span> GetProducts  </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    @Category <span class="dt">NVARCHAR</span>(<span class="dv">50</span>) <span class="op">=</span> <span class="kw">NULL</span>,  </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    @Price <span class="dt">DECIMAL</span>(<span class="dv">10</span>, <span class="dv">2</span>) <span class="op">=</span> <span class="kw">NULL</span>  </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span>  </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span>  </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Products  </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">WHERE</span> (@Category <span class="kw">IS</span> <span class="kw">NULL</span> <span class="kw">OR</span> <span class="kw">Category</span> <span class="op">=</span> @Category)  </span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>      <span class="kw">AND</span> (@Price <span class="kw">IS</span> <span class="kw">NULL</span> <span class="kw">OR</span> Price <span class="op">&lt;=</span> @Price);  </span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span>;  </span></code></pre></div>
<p><strong>13. What are isolation levels in SQL Server, and how do they
affect data consistency?</strong></p>
<ul>
<li>Isolation levels manage the visibility of data changes during a
transaction.</li>
<li>Levels include <code>READ UNCOMMITTED</code>,
<code>READ COMMITTED</code>, <code>REPEATABLE READ</code>, and
<code>SERIALIZABLE</code>.</li>
<li>Lower levels allow more concurrency but risk data anomalies like
dirty reads.</li>
<li>Higher levels ensure consistency but may lock resources longer.</li>
<li>Example: I used <code>REPEATABLE READ</code> to prevent phantom
reads in inventory management.</li>
</ul>
<div class="sourceCode" id="cb13"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SET</span> <span class="kw">TRANSACTION</span> <span class="kw">ISOLATION</span> <span class="kw">LEVEL</span> REPEATABLE <span class="kw">READ</span>;  </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> <span class="kw">TRANSACTION</span>;  </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Inventory <span class="kw">WHERE</span> ProductID <span class="op">=</span> <span class="dv">1</span>;  </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> Inventory <span class="kw">SET</span> Quantity <span class="op">=</span> Quantity <span class="op">-</span> <span class="dv">10</span> <span class="kw">WHERE</span> ProductID <span class="op">=</span> <span class="dv">1</span>;  </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="kw">COMMIT</span> <span class="kw">TRANSACTION</span>;  </span></code></pre></div>
<p><strong>14. What are the different types of joins in SQL, and when
would you use each?</strong></p>
<ul>
<li><code>INNER JOIN</code> retrieves rows with matching values in both
tables.</li>
<li><code>LEFT JOIN</code> retrieves all rows from the left table and
matching rows from the right.</li>
<li><code>RIGHT JOIN</code> retrieves all rows from the right table and
matching rows from the left.</li>
<li><code>FULL OUTER JOIN</code> retrieves all rows when there’s a match
in either table.</li>
<li>Example: I used <code>LEFT JOIN</code> to fetch customer orders even
when no orders exist.</li>
</ul>
<div class="sourceCode" id="cb14"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> c.CustomerName, o.OrderID  </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Customers c  </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> Orders o <span class="kw">ON</span> c.CustomerID <span class="op">=</span> o.CustomerID;  </span></code></pre></div>
<p><strong>15. How do you handle deadlocks in SQL Server?</strong></p>
<ul>
<li>Identify and resolve conflicting transactions using SQL Profiler or
deadlock graphs.</li>
<li>Minimize locking with shorter transactions and proper indexing.</li>
<li>Use <code>SET DEADLOCK_PRIORITY</code> to control which transaction
is terminated.</li>
<li>Implement retry logic in the application layer for resiliency.</li>
<li>Example: I analyzed and resolved deadlocks in a payment system by
optimizing resource access order.</li>
</ul>
<div class="sourceCode" id="cb15"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SET</span> DEADLOCK_PRIORITY LOW;  </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> <span class="kw">TRANSACTION</span>;  </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> Accounts <span class="kw">SET</span> Balance <span class="op">=</span> Balance <span class="op">-</span> <span class="dv">100</span> <span class="kw">WHERE</span> AccountID <span class="op">=</span> <span class="dv">1</span>;  </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> Accounts <span class="kw">SET</span> Balance <span class="op">=</span> Balance <span class="op">+</span> <span class="dv">100</span> <span class="kw">WHERE</span> AccountID <span class="op">=</span> <span class="dv">2</span>;  </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="kw">COMMIT</span> <span class="kw">TRANSACTION</span>;  </span></code></pre></div>
<p><strong>16. What is the purpose of database normalization, and what
are its normal forms?</strong></p>
<ul>
<li>Normalization reduces data redundancy and ensures data integrity in
a relational database.</li>
<li>It organizes data into smaller, related tables with well-defined
relationships.</li>
<li>Normal forms include 1NF (Atomicity), 2NF (No Partial Dependencies),
3NF (No Transitive Dependencies), BCNF, and beyond.</li>
<li>Higher normal forms improve data consistency but may reduce query
performance due to joins.</li>
<li>Example: I normalized a sales database to 3NF, which eliminated
redundancy in product and order information.</li>
</ul>
<div class="sourceCode" id="cb16"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Example: Splitting Product and Supplier data  </span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Products (ProductID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>, ProductName <span class="dt">NVARCHAR</span>(<span class="dv">50</span>), SupplierID <span class="dt">INT</span>);  </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Suppliers (SupplierID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>, SupplierName <span class="dt">NVARCHAR</span>(<span class="dv">50</span>));  </span></code></pre></div>
<p><strong>17. How do you monitor and optimize SQL Server performance
using execution plans?</strong></p>
<ul>
<li>Execution plans provide a visual representation of the query
execution process.</li>
<li>They help identify bottlenecks such as table scans or missing
indexes.</li>
<li>Common optimization strategies include creating indexes, rewriting
queries, and reducing complexity.</li>
<li>Tools like SQL Server Management Studio (SSMS) provide graphical
execution plan analysis.</li>
<li>Example: I optimized slow queries in a reporting system by analyzing
execution plans and adding missing indexes.</li>
</ul>
<div class="sourceCode" id="cb17"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Display execution plan  </span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SET</span> SHOWPLAN_XML <span class="kw">ON</span>;  </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Orders <span class="kw">WHERE</span> OrderDate <span class="op">&gt;</span> <span class="st">&#39;2024-01-01&#39;</span>;  </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="kw">SET</span> SHOWPLAN_XML <span class="kw">OFF</span>;  </span></code></pre></div>
<p><strong>18. How do you secure sensitive data in SQL Server using
encryption?</strong></p>
<ul>
<li>Use Transparent Data Encryption (TDE) to encrypt data at rest.</li>
<li>Column-level encryption protects specific sensitive columns like
SSNs or credit card numbers.</li>
<li>Always encrypt connections to SQL Server using SSL/TLS.</li>
<li>Use SQL Server’s Always Encrypted feature for end-to-end data
protection.</li>
<li>Example: I implemented TDE for customer data in a
compliance-sensitive application.</li>
</ul>
<div class="sourceCode" id="cb18"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Enabling TDE  </span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">DATABASE</span> ENCRYPTION <span class="kw">KEY</span>  </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> ALGORITHM <span class="op">=</span> AES_256 ENCRYPTION <span class="kw">BY</span> SERVER CERTIFICATE MyServerCert;  </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">DATABASE</span> MyDatabase <span class="kw">SET</span> ENCRYPTION <span class="kw">ON</span>;  </span></code></pre></div>
<p><strong>19. What is the difference between INNER JOIN, LEFT JOIN,
RIGHT JOIN, and FULL OUTER JOIN?</strong></p>
<ul>
<li><code>INNER JOIN</code>: Returns rows with matching values in both
tables.</li>
<li><code>LEFT JOIN</code>: Returns all rows from the left table and
matching rows from the right.</li>
<li><code>RIGHT JOIN</code>: Returns all rows from the right table and
matching rows from the left.</li>
<li><code>FULL OUTER JOIN</code>: Returns all rows from both tables,
with NULLs where no match exists.</li>
<li>Example: I used <code>FULL OUTER JOIN</code> to compare inventory
data from two systems for reconciliation.</li>
</ul>
<div class="sourceCode" id="cb19"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> a.ProductID, a.Quantity <span class="kw">AS</span> SystemA, b.Quantity <span class="kw">AS</span> SystemB  </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> InventoryA a  </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FULL</span> <span class="kw">OUTER</span> <span class="kw">JOIN</span> InventoryB b <span class="kw">ON</span> a.ProductID <span class="op">=</span> b.ProductID;  </span></code></pre></div>
<p><strong>20. How do you handle error logging and exception handling in
SQL Server stored procedures?</strong></p>
<ul>
<li>Use <code>TRY...CATCH</code> blocks for error handling within stored
procedures.</li>
<li>Log errors into an error table for later analysis using
<code>INSERT INTO</code>.</li>
<li>Retrieve error details using functions like
<code>ERROR_MESSAGE()</code> and <code>ERROR_LINE()</code>.</li>
<li>Implement a centralized error handling mechanism across
procedures.</li>
<li>Example: I logged errors in an audit table to track failed
transactions in a billing system.</li>
</ul>
<div class="sourceCode" id="cb20"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> TRY  </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Your SQL logic  </span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span> TRY  </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> CATCH  </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">INSERT</span> <span class="kw">INTO</span> ErrorLog(ErrorMessage, ErrorLine)  </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">VALUES</span> (ERROR_MESSAGE(), ERROR_LINE());  </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span> CATCH;  </span></code></pre></div>
<p><strong>21. What are triggers in SQL, and how do they differ from
stored procedures?</strong></p>
<ul>
<li>Triggers are automatically executed in response to specific events
like <code>INSERT</code>, <code>UPDATE</code>, or
<code>DELETE</code>.</li>
<li>Stored procedures are executed explicitly by users or
applications.</li>
<li>Triggers enforce business rules or data integrity, while procedures
provide reusable logic.</li>
<li>Triggers run within the context of the event and cannot be directly
invoked.</li>
<li>Example: I used a trigger to update inventory levels automatically
after a sale.</li>
</ul>
<div class="sourceCode" id="cb21"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TRIGGER</span> UpdateInventory <span class="kw">AFTER</span> <span class="kw">INSERT</span> <span class="kw">ON</span> Sales  </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="cf">FOR</span> <span class="kw">EACH</span> <span class="kw">ROW</span>  </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span>  </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">UPDATE</span> Inventory <span class="kw">SET</span> Quantity <span class="op">=</span> Quantity <span class="op">-</span> <span class="kw">NEW</span>.Quantity  </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">WHERE</span> ProductID <span class="op">=</span> <span class="kw">NEW</span>.ProductID;  </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span>;  </span></code></pre></div>
<p><strong>22. How do you implement table partitioning in SQL Server for
large datasets?</strong></p>
<ul>
<li>Table partitioning divides a table into smaller, manageable pieces
for improved performance.</li>
<li>Partitions are created based on a range of values, typically on a
date or ID column.</li>
<li>Use partition functions to define boundaries and partition schemes
to assign storage.</li>
<li>Improves query performance and reduces maintenance effort on large
tables.</li>
<li>Example: I implemented partitioning on a log table to improve query
speed for recent logs.</li>
</ul>
<div class="sourceCode" id="cb22"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PARTITION</span> <span class="kw">FUNCTION</span> LogPartitionFunction(<span class="dt">DATE</span>)  </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> <span class="kw">RANGE</span> <span class="kw">RIGHT</span> <span class="cf">FOR</span> <span class="kw">VALUES</span> (<span class="st">&#39;2024-01-01&#39;</span>, <span class="st">&#39;2024-02-01&#39;</span>, <span class="st">&#39;2024-03-01&#39;</span>);  </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PARTITION</span> SCHEME LogPartitionScheme  </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> <span class="kw">PARTITION</span> LogPartitionFunction <span class="kw">ALL</span> <span class="kw">TO</span> ([<span class="kw">PRIMARY</span>]);  </span></code></pre></div>
<p><strong>23. How do you perform bulk insert operations efficiently in
SQL Server?</strong></p>
<ul>
<li>Use the <code>BULK INSERT</code> statement for importing large
volumes of data quickly.</li>
<li>Optimize with batch sizes and disable indexes during insertion.</li>
<li>Use the <code>TABLOCK</code> hint for minimal logging in bulk-logged
or simple recovery models.</li>
<li>Pre-sort data to match the table’s clustered index for improved
performance.</li>
<li>Example: I used <code>BULK INSERT</code> to migrate historical data
into a warehouse system.</li>
</ul>
<div class="sourceCode" id="cb23"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">BULK</span> <span class="kw">INSERT</span> Sales  </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> <span class="st">&#39;C:\Data\SalesData.csv&#39;</span>  </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> (FIELDTERMINATOR <span class="op">=</span> <span class="st">&#39;,&#39;</span>, ROWTERMINATOR <span class="op">=</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>, FIRSTROW <span class="op">=</span> <span class="dv">2</span>);  </span></code></pre></div>
<p><strong>24. What is SQL Profiler, and how do you use it to
troubleshoot performance issues?</strong></p>
<ul>
<li>SQL Profiler is a tool for monitoring and capturing SQL Server
activity.</li>
<li>It helps identify slow queries, blocking, and resource-intensive
operations.</li>
<li>Use it to capture traces for analysis and tune queries
accordingly.</li>
<li>Be cautious with live production servers to avoid overhead.</li>
<li>Example: I used SQL Profiler to diagnose slow database performance
in an ERP system.</li>
</ul>
<div class="sourceCode" id="cb24"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- No code for Profiler; open and configure in SQL Server Management Studio (SSMS).  </span></span></code></pre></div>
<p><strong>25. How do you design a database schema for a multi-tenant
SaaS application?</strong></p>
<ul>
<li>Use separate schemas or databases for strict isolation.</li>
<li>Use shared tables with tenant ID columns for resource
efficiency.</li>
<li>Normalize common data and denormalize tenant-specific data for
performance.</li>
<li>Implement row-level security to enforce tenant isolation.</li>
<li>Example: I designed a multi-tenant application where tenant-specific
data was identified by a TenantID column.</li>
</ul>
<div class="sourceCode" id="cb25"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Orders (OrderID <span class="dt">INT</span>, TenantID <span class="dt">INT</span>, ProductID <span class="dt">INT</span>, Quantity <span class="dt">INT</span>);  </span></code></pre></div>
<p><strong>26. What are foreign keys and primary keys, and how are they
enforced in SQL Server?</strong></p>
<ul>
<li>A primary key uniquely identifies each row in a table.</li>
<li>A foreign key establishes a relationship between two tables.</li>
<li>Primary keys enforce uniqueness, while foreign keys enforce
referential integrity.</li>
<li>Use <code>ON DELETE</code> or <code>ON UPDATE</code> options for
cascading changes.</li>
<li>Example: I used foreign keys to link orders to customers in an
e-commerce database.</li>
</ul>
<div class="sourceCode" id="cb26"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Customers (CustomerID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>, Name <span class="dt">NVARCHAR</span>(<span class="dv">50</span>));  </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Orders (OrderID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>, CustomerID <span class="dt">INT</span> <span class="kw">FOREIGN</span> <span class="kw">KEY</span> <span class="kw">REFERENCES</span> Customers(CustomerID));  </span></code></pre></div>
<p><strong>27. How do you use dynamic SQL, and what are the security
considerations involved?</strong></p>
<ul>
<li>Dynamic SQL allows the execution of SQL strings built at
runtime.</li>
<li>Useful for flexible query generation and handling variable
conditions.</li>
<li>Avoid SQL injection by using parameterized queries or
<code>sp_executesql</code>.</li>
<li>Validate user inputs rigorously before constructing dynamic
SQL.</li>
<li>Example: I used dynamic SQL to generate reports dynamically based on
user-selected columns.</li>
</ul>
<div class="sourceCode" id="cb27"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DECLARE</span> @sql <span class="dt">NVARCHAR</span>(<span class="fu">MAX</span>);  </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SET</span> @sql <span class="op">=</span> <span class="st">&#39;SELECT &#39;</span> <span class="op">+</span> @ColumnName <span class="op">+</span> <span class="st">&#39; FROM Sales&#39;</span>;  </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="kw">EXEC</span> sp_executesql @sql;  </span></code></pre></div>
<p><strong>28. What are the differences between OLTP and OLAP
databases?</strong></p>
<ul>
<li>OLTP (Online Transaction Processing) is optimized for transactional
systems, with frequent writes.</li>
<li>OLAP (Online Analytical Processing) is designed for querying and
analysis, with read-intensive operations.</li>
<li>OLTP databases have normalized schemas, while OLAP uses denormalized
schemas like star or snowflake.</li>
<li>OLTP supports real-time operations; OLAP supports historical data
analysis.</li>
<li>Example: I built an OLTP database for retail transactions and an
OLAP system for sales reporting.</li>
</ul>
<p><strong>29. How do you configure SQL Server replication for data
synchronization across regions?</strong></p>
<ul>
<li>Configure transactional replication for near real-time
synchronization.</li>
<li>Use merge replication for bi-directional synchronization across
regions.</li>
<li>Snapshot replication sends a full copy of the data
periodically.</li>
<li>Consider network latency and conflict resolution strategies for
global setups.</li>
<li>Example: I used transactional replication to sync regional sales
databases with a central warehouse.</li>
</ul>
<p><strong>30. What is a materialized view, and how does it differ from
a standard view?</strong></p>
<ul>
<li><p>A materialized view stores query results physically, unlike a
standard view, which is virtual.</p></li>
<li><p>It improves performance for repetitive and complex
queries.</p></li>
<li><p>Needs manual or scheduled refresh to update data.</p></li>
<li><p>Example: I used materialized views in a BI system for
pre-aggregating sales data.</p></li>
</ul>
<div class="sourceCode" id="cb28"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">MATERIALIZED</span> <span class="kw">VIEW</span> SalesSummary <span class="kw">AS</span>  </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ProductID, <span class="fu">SUM</span>(Quantity) <span class="kw">AS</span> TotalQuantity <span class="kw">FROM</span> Sales <span class="kw">GROUP</span> <span class="kw">BY</span> ProductID;  </span></code></pre></div>
<p><strong>31. How do you back up and restore databases in SQL
Server?</strong></p>
<ul>
<li>Use <code>BACKUP DATABASE</code> for full, differential, or
transaction log backups.</li>
<li>Full backups create a complete copy of the database.</li>
<li>Differential backups store changes since the last full backup.</li>
<li>Transaction log backups capture changes since the last log backup
for point-in-time recovery.</li>
<li>Example: I scheduled regular full backups and differential backups
for a production database.</li>
</ul>
<div class="sourceCode" id="cb29"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Backup a database  </span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="kw">BACKUP</span> <span class="kw">DATABASE</span> MyDatabase <span class="kw">TO</span> DISK <span class="op">=</span> <span class="st">&#39;C:\Backups\MyDatabase.bak&#39;</span>;  </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Restore a database  </span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>RESTORE <span class="kw">DATABASE</span> MyDatabase <span class="kw">FROM</span> DISK <span class="op">=</span> <span class="st">&#39;C:\Backups\MyDatabase.bak&#39;</span>;  </span></code></pre></div>
<p><strong>32. What are the benefits of using partitioned indexes in
large databases?</strong></p>
<ul>
<li>Partitioned indexes improve query performance by targeting specific
partitions.</li>
<li>They reduce index maintenance overhead for large datasets.</li>
<li>Useful for range queries, such as those involving dates.</li>
<li>Can be aligned with table partitions for consistency.</li>
<li>Example: I created partitioned indexes on a log table to improve
search performance for recent entries.</li>
</ul>
<div class="sourceCode" id="cb30"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PARTITION</span> <span class="kw">FUNCTION</span> MyPartitionFunction (<span class="dt">INT</span>)  </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> <span class="kw">RANGE</span> <span class="kw">LEFT</span> <span class="cf">FOR</span> <span class="kw">VALUES</span> (<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>);  </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PARTITION</span> SCHEME MyPartitionScheme  </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> <span class="kw">PARTITION</span> MyPartitionFunction <span class="kw">ALL</span> <span class="kw">TO</span> ([<span class="kw">PRIMARY</span>]);  </span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">INDEX</span> IX_Partitioned <span class="kw">ON</span> MyTable (ColumnName)  </span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> MyPartitionScheme (ColumnName);  </span></code></pre></div>
<p><strong>33. How do you use window functions in SQL for analytical
queries?</strong></p>
<ul>
<li>Window functions operate over a defined set of rows (the
window).</li>
<li>Common functions include <code>ROW_NUMBER()</code>,
<code>RANK()</code>, <code>NTILE()</code>, and aggregate functions with
<code>OVER()</code>.</li>
<li>They enable ranking, cumulative totals, and moving averages.</li>
<li>Do not group rows but calculate results for each row within a
partition.</li>
<li>Example: I used <code>ROW_NUMBER()</code> to paginate results in a
reporting application.</li>
</ul>
<div class="sourceCode" id="cb31"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">ROW_NUMBER</span>() <span class="kw">OVER</span> (<span class="kw">ORDER</span> <span class="kw">BY</span> OrderDate <span class="kw">DESC</span>) <span class="kw">AS</span> <span class="kw">RowNum</span>, OrderID, OrderDate  </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Orders;  </span></code></pre></div>
<p><strong>34. How do you identify and resolve blocking queries in SQL
Server?</strong></p>
<ul>
<li>Use <code>sp_who2</code> or SQL Server Management Studio to identify
blocked processes.</li>
<li>Analyze query execution plans to find slow or inefficient queries
causing blocks.</li>
<li>Optimize indexes and query structure to reduce locking.</li>
<li>Use <code>SET TRANSACTION ISOLATION LEVEL</code> to minimize
contention.</li>
<li>Example: I resolved blocking issues in a payroll system by
optimizing queries and reducing lock duration.</li>
</ul>
<div class="sourceCode" id="cb32"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Check blocking queries  </span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="kw">EXEC</span> sp_who2;  </span></code></pre></div>
<p><strong>35. How do you implement database partitioning for
scalability?</strong></p>
<ul>
<li>Divide a large table into smaller, manageable partitions based on
range, list, or hash.</li>
<li>Improve query performance by reducing the amount of scanned
data.</li>
<li>Use partition functions and schemes to define boundaries and
storage.</li>
<li>Supports efficient data archiving and maintenance.</li>
<li>Example: I partitioned a transaction table by year to improve query
speed for recent data.</li>
</ul>
<div class="sourceCode" id="cb33"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PARTITION</span> <span class="kw">FUNCTION</span> YearPartitionFunction (<span class="dt">DATE</span>)  </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> <span class="kw">RANGE</span> <span class="kw">RIGHT</span> <span class="cf">FOR</span> <span class="kw">VALUES</span> (<span class="st">&#39;2023-01-01&#39;</span>, <span class="st">&#39;2024-01-01&#39;</span>);  </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PARTITION</span> SCHEME YearPartitionScheme  </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> <span class="kw">PARTITION</span> YearPartitionFunction <span class="kw">ALL</span> <span class="kw">TO</span> ([<span class="kw">PRIMARY</span>]);  </span></code></pre></div>
<p><strong>36. What is the MERGE statement, and how can it be used for
upsert operations?</strong></p>
<ul>
<li>The <code>MERGE</code> statement combines <code>INSERT</code>,
<code>UPDATE</code>, and <code>DELETE</code> in a single operation.</li>
<li>Useful for synchronizing two tables or performing upserts.</li>
<li>Requires a source and target table with a join condition.</li>
<li>Can include multiple actions like updating matched rows or inserting
unmatched rows.</li>
<li>Example: I used <code>MERGE</code> to update and insert sales data
into a consolidated table.</li>
</ul>
<div class="sourceCode" id="cb34"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">MERGE</span> <span class="kw">INTO</span> TargetTable <span class="kw">AS</span> Target  </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="kw">USING</span> SourceTable <span class="kw">AS</span> <span class="kw">Source</span>  </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> Target.<span class="kw">ID</span> <span class="op">=</span> <span class="kw">Source</span>.<span class="kw">ID</span>  </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="cf">WHEN</span> MATCHED <span class="cf">THEN</span> <span class="kw">UPDATE</span> <span class="kw">SET</span> Target.Name <span class="op">=</span> <span class="kw">Source</span>.Name  </span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="cf">WHEN</span> <span class="kw">NOT</span> MATCHED <span class="cf">THEN</span> <span class="kw">INSERT</span> (<span class="kw">ID</span>, Name) <span class="kw">VALUES</span> (<span class="kw">Source</span>.<span class="kw">ID</span>, <span class="kw">Source</span>.Name);  </span></code></pre></div>
<p><strong>37. How do you implement database sharding, and what are the
key considerations for partitioning data?</strong></p>
<ul>
<li>Sharding splits data across multiple databases or servers to
distribute load.</li>
<li>Each shard contains a subset of data, often based on a shard key
like customer ID.</li>
<li>Requires careful selection of shard keys to avoid uneven
distribution.</li>
<li>Consider strategies for shard management, data replication, and
cross-shard queries.</li>
<li>Example: I implemented sharding for a multi-region e-commerce
application to reduce latency.</li>
</ul>
<p><strong>38. Explain the concept of a materialized view and how it
differs from a regular view.</strong></p>
<ul>
<li>A materialized view stores query results physically, unlike a
regular view, which is virtual.</li>
<li>Improves performance by precomputing and storing complex query
results.</li>
<li>Requires manual or scheduled refresh to keep data up-to-date.</li>
<li>Regular views always reflect the latest data but can be slower for
complex queries.</li>
<li>Example: I used materialized views in a data warehouse to speed up
reporting.</li>
</ul>
<div class="sourceCode" id="cb35"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">MATERIALIZED</span> <span class="kw">VIEW</span> SalesSummary <span class="kw">AS</span>  </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ProductID, <span class="fu">SUM</span>(SalesAmount) <span class="kw">AS</span> TotalSales  </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Sales  </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> ProductID;  </span></code></pre></div>
<p><strong>39. How do you handle deadlocks in SQL Server, and what
strategies help prevent them?</strong></p>
<ul>
<li>Detect deadlocks using the SQL Server error log or tools like
Extended Events.</li>
<li>Analyze deadlock graphs to identify conflicting resources.</li>
<li>Reduce lock contention with shorter transactions and optimized
queries.</li>
<li>Use <code>NOLOCK</code> or row versioning for read operations where
possible.</li>
<li>Example: I resolved deadlocks in a ticketing system by optimizing
locking mechanisms.</li>
</ul>
<div class="sourceCode" id="cb36"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Example deadlock resolution query optimization  </span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Orders <span class="kw">WITH</span> (NOLOCK) <span class="kw">WHERE</span> OrderStatus <span class="op">=</span> <span class="st">&#39;Pending&#39;</span>;  </span></code></pre></div>
<p><strong>40. What is the purpose of the FOR JSON clause in SQL Server,
and how does it work?</strong></p>
<ul>
<li>The <code>FOR JSON</code> clause formats query results as JSON for
API or front-end consumption.</li>
<li>Supports <code>AUTO</code> and <code>PATH</code> modes for different
levels of customization.</li>
<li>Simplifies integration with applications expecting JSON data.</li>
<li>Useful for exporting data to web services or modern
applications.</li>
<li>Example: I used <code>FOR JSON</code> to deliver query results in
JSON format for a mobile app API.</li>
</ul>
<div class="sourceCode" id="cb37"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> OrderID, CustomerName  </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Orders  </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="cf">FOR</span> JSON AUTO;  </span></code></pre></div>
<p><strong>41. How can you implement a recursive query without using a
Common Table Expression (CTE)?</strong></p>
<ul>
<li>Use procedural logic like loops or cursors in SQL Server stored
procedures.</li>
<li>Alternatively, emulate recursion with temporary tables or
self-joins.</li>
<li>Recursive CTEs are generally preferred for cleaner, more readable
queries.</li>
<li>Example: Without a CTE, I used a loop to calculate hierarchical
relationships in an employee table.</li>
</ul>
<p><strong>42. What are hash indexes, and how do they differ from B-tree
indexes?</strong></p>
<ul>
<li>Hash indexes map keys to hash values for quick equality
searches.</li>
<li>B-tree indexes support range and sorted queries, while hash indexes
do not.</li>
<li>Hash indexes are faster for exact lookups but less versatile.</li>
<li>Common in NoSQL databases but rare in traditional RDBMS like SQL
Server.</li>
<li>Example: Used hash indexing in a NoSQL database for a high-traffic
key-value store.</li>
</ul>
<p><strong>43. Explain the use of temporal tables in SQL Server for
tracking historical data.</strong></p>
<ul>
<li>Temporal tables automatically track changes to data with
system-managed history tables.</li>
<li>Provide insights into data changes over time.</li>
<li>Useful for auditing, reporting, and restoring previous states.</li>
<li>Example: I implemented temporal tables to track changes in customer
records for compliance.</li>
</ul>
<div class="sourceCode" id="cb38"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Customers  </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>(  </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    CustomerID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,  </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    Name <span class="dt">NVARCHAR</span>(<span class="dv">50</span>),  </span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    ValidFrom DATETIME2 <span class="kw">GENERATED</span> ALWAYS <span class="kw">AS</span> <span class="kw">ROW</span> <span class="kw">START</span>,  </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    ValidTo DATETIME2 <span class="kw">GENERATED</span> ALWAYS <span class="kw">AS</span> <span class="kw">ROW</span> <span class="cf">END</span>,  </span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    PERIOD <span class="cf">FOR</span> SYSTEM_TIME (ValidFrom, ValidTo)  </span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>) <span class="kw">WITH</span> (SYSTEM_VERSIONING <span class="op">=</span> <span class="kw">ON</span>);  </span></code></pre></div>
<p><strong>44. How do you analyze and interpret an execution plan to
optimize SQL queries?</strong></p>
<ul>
<li>Examine operators like scans, seeks, and joins to identify
inefficiencies.</li>
<li>Look for warnings like missing indexes or expensive sort
operations.</li>
<li>Evaluate estimated vs. actual rows for discrepancies.</li>
<li>Optimize problematic operators with indexing or query rewrites.</li>
<li>Example: Used execution plans to diagnose and fix slow joins in a
reporting query.</li>
</ul>
<p><strong>45. What is the difference between optimistic and pessimistic
locking in SQL?</strong></p>
<ul>
<li>Optimistic locking assumes minimal conflicts and checks for changes
before committing.</li>
<li>Pessimistic locking locks resources to prevent conflicts during a
transaction.</li>
<li>Optimistic locking is better for read-heavy systems with low
contention.</li>
<li>Pessimistic locking is used in write-heavy or high-contention
scenarios.</li>
<li>Example: Used optimistic locking with row versioning in a
read-intensive application.</li>
</ul>
<p>Here are some advanced and critical SQL Server-related questions to
help you further prepare for interviews:</p>
<p><strong>46. How do you design high-availability solutions in SQL
Server?</strong></p>
<ul>
<li>Use Always On Availability Groups for read/write availability across
replicas.</li>
<li>Implement failover clustering to provide automatic recovery during
server failures.</li>
<li>Use database mirroring for redundancy and disaster recovery.</li>
<li>Regularly back up and test the disaster recovery plan.</li>
<li>Example: Configured an Always On Availability Group to ensure high
availability in a financial system.</li>
</ul>
<p><strong>47. How do you handle and optimize parameter sniffing in SQL
Server?</strong></p>
<ul>
<li>Use <code>OPTION (RECOMPILE)</code> to create query-specific
execution plans.</li>
<li>Employ forced parameterization or optimize queries with specific
parameter hints.</li>
<li>Test and implement plan guides for targeted queries.</li>
<li>Regularly update statistics to ensure the query optimizer makes
informed decisions.</li>
<li>Example: Added <code>OPTION (OPTIMIZE FOR UNKNOWN)</code> to resolve
performance issues caused by parameter sniffing.</li>
</ul>
<div class="sourceCode" id="cb39"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Orders <span class="kw">WHERE</span> OrderDate <span class="op">=</span> @OrderDate  </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="kw">OPTION</span> (OPTIMIZE <span class="cf">FOR</span> UNKNOWN);  </span></code></pre></div>
<p><strong>48. How do you implement database version
control?</strong></p>
<ul>
<li>Use tools like SQL Server Data Tools (SSDT) or Flyway for schema
versioning.</li>
<li>Maintain scripts for schema changes in a source control system like
Git.</li>
<li>Use migration-based or state-based approaches for deployments.</li>
<li>Automate version control integration into CI/CD pipelines.</li>
<li>Example: Implemented database versioning using Flyway for a
multi-environment deployment.</li>
</ul>
<p><strong>49. What is query optimization and why is it
important?</strong></p>
<ul>
<li>Query optimization improves performance by reducing resource usage
and response time.</li>
<li>Techniques include indexing, avoiding unnecessary columns, and
optimizing joins.</li>
<li>Analyze execution plans and query statistics to find
inefficiencies.</li>
<li>Use table partitions and indexed views for complex queries.</li>
<li>Example: Optimized queries in an analytics system by rewriting joins
and creating covering indexes.</li>
</ul>
<p><strong>50. How do you implement row-level security (RLS) in SQL
Server?</strong></p>
<ul>
<li>Use RLS to control access to rows based on user identity or
context.</li>
<li>Create a security policy using predicates in inline table-valued
functions.</li>
<li>Apply <code>FILTER</code> and <code>BLOCK</code> predicates for data
filtering and update control.</li>
<li>Example: Implemented RLS to restrict access to sales data by region
in a multi-tenant application.</li>
</ul>
<div class="sourceCode" id="cb40"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">FUNCTION</span> SecurityPredicate(@RegionID <span class="dt">INT</span>)  </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>RETURNS <span class="kw">TABLE</span>  </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span>  </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="kw">RETURN</span> <span class="kw">SELECT</span> <span class="dv">1</span> <span class="kw">AS</span> <span class="kw">Access</span> <span class="kw">WHERE</span> @RegionID <span class="op">=</span> USER_REGION();  </span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> SECURITY POLICY RegionSecurity  </span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="kw">ADD</span> <span class="kw">FILTER</span> PREDICATE dbo.SecurityPredicate(RegionID)  </span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> Sales;  </span></code></pre></div>
<p><strong>51. How do you perform schema comparison and
synchronization?</strong></p>
<ul>
<li>Use SQL Server Data Tools (SSDT) or third-party tools like Redgate
SQL Compare.</li>
<li>Generate scripts to sync differences between source and target
schemas.</li>
<li>Include schema comparison in your deployment pipeline for
automation.</li>
<li>Example: Used Redgate SQL Compare to sync test and production
databases during release cycles.</li>
</ul>
<p><strong>52. What are the differences between database mirroring and
log shipping?</strong></p>
<ul>
<li>Database mirroring provides real-time synchronization between
primary and secondary databases.</li>
<li>Log shipping transfers transaction logs periodically for disaster
recovery.</li>
<li>Mirroring is suitable for high-availability scenarios, while log
shipping is ideal for reporting or backup systems.</li>
<li>Example: Used log shipping for offsite backups in a disaster
recovery strategy.</li>
</ul>
<p><strong>53. How do you use CROSS APPLY and OUTER APPLY in SQL
Server?</strong></p>
<ul>
<li><code>CROSS APPLY</code> works like an inner join for functions or
table expressions.</li>
<li><code>OUTER APPLY</code> includes rows even when the function or
expression returns null.</li>
<li>Useful for invoking functions on each row of a table.</li>
<li>Example: Used <code>CROSS APPLY</code> to invoke a table-valued
function for dynamic filtering.</li>
</ul>
<div class="sourceCode" id="cb41"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> Orders.OrderID, Details.Quantity  </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Orders  </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CROSS</span> APPLY dbo.GetOrderDetails(Orders.OrderID) <span class="kw">AS</span> Details;  </span></code></pre></div>
<p><strong>54. How do you perform transactional replication in SQL
Server?</strong></p>
<ul>
<li>Use transactional replication to replicate changes from a publisher
to subscribers in near real-time.</li>
<li>Configure a distribution database to manage replication
processes.</li>
<li>Suitable for high-transaction systems needing data consistency
across servers.</li>
<li>Example: Used transactional replication to synchronize data between
a reporting and a production database.</li>
</ul>
<p><strong>55. What are Indexed Views and their
limitations?</strong></p>
<ul>
<li>Indexed views store data physically for improved performance.</li>
<li>Useful for complex queries or aggregations requiring frequent
access.</li>
<li>Limitations include restrictions on usage of certain functions,
joins, and schema binding requirements.</li>
<li>Example: Used indexed views to precompute metrics in a dashboard
system.</li>
</ul>
<p><strong>56. How do you prevent SQL injection attacks?</strong></p>
<ul>
<li>Use parameterized queries or stored procedures to separate logic
from data.</li>
<li>Avoid dynamic SQL or validate input rigorously.</li>
<li>Implement database security features like roles and
permissions.</li>
<li>Example: Rewrote a dynamic SQL query to use parameters, eliminating
potential injection risks.</li>
</ul>
<div class="sourceCode" id="cb42"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Vulnerable Query  </span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="kw">EXEC</span> (<span class="st">&#39;SELECT * FROM Users WHERE Username = </span><span class="ch">&#39;&#39;</span><span class="st">&#39;</span> <span class="op">+</span> @username <span class="op">+</span> <span class="st">&#39;</span><span class="ch">&#39;&#39;</span><span class="st">&#39;</span>);  </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Secured Query  </span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Users <span class="kw">WHERE</span> Username <span class="op">=</span> @username;  </span></code></pre></div>
<p><strong>57. How do you optimize a database for write-heavy
applications?</strong></p>
<ul>
<li>Use table partitions to distribute write load.</li>
<li>Optimize indexes for minimal maintenance during insert/update
operations.</li>
<li>Implement batching for bulk operations.</li>
<li>Example: Optimized a messaging app by reducing index maintenance
during high write loads.</li>
</ul>
<p><strong>58. How do you debug stored procedures in SQL
Server?</strong></p>
<ul>
<li>Use SQL Server Management Studio (SSMS) to step through stored
procedures.</li>
<li>Add print statements or use <code>RAISERROR</code> for runtime
diagnostics.</li>
<li>Enable profiling or Extended Events to track procedure
performance.</li>
<li>Example: Debugged a stored procedure with unexpected output using
<code>RAISERROR</code> statements.</li>
</ul>
<p><strong>59. What is the difference between schema binding and
non-schema binding views?</strong></p>
<ul>
<li>Schema binding ties a view to the underlying table structure,
preventing changes to dependent objects.</li>
<li>Non-schema binding allows modifications to underlying tables.</li>
<li>Schema binding is essential for creating indexed views.</li>
<li>Example: Used schema binding in an indexed view for performance
optimization.</li>
</ul>
<p><strong>60. How do you handle archiving and purging of large
datasets?</strong></p>
<ul>
<li>Use table partitioning for efficient data movement between active
and archive tables.</li>
<li>Employ scheduled jobs to move or delete older data.</li>
<li>Maintain indexes separately for active and archive tables.</li>
<li>Example: Implemented a partitioning strategy to purge old order
records while retaining recent ones.</li>
</ul>
<p><strong>61. What are the differences between a primary key and a
unique key?</strong></p>
<ul>
<li>A primary key uniquely identifies each row in a table and cannot
have NULL values.</li>
<li>A unique key also ensures unique values but can allow one NULL
value.</li>
<li>There can be only one primary key per table, but multiple unique
keys are allowed.</li>
<li>Example: Used a unique key to prevent duplicate email entries in a
user table while allowing one NULL.</li>
</ul>
<div class="sourceCode" id="cb43"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Users (  </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    UserID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,  </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    Email <span class="dt">NVARCHAR</span>(<span class="dv">255</span>) <span class="kw">UNIQUE</span>  </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>);  </span></code></pre></div>
<p><strong>62. What is the difference between DELETE and TRUNCATE in
SQL?</strong></p>
<ul>
<li>DELETE removes specific rows based on a condition and logs each
deletion.</li>
<li>TRUNCATE removes all rows from a table but does not log individual
deletions, making it faster.</li>
<li>DELETE can be used with WHERE, while TRUNCATE cannot.</li>
<li>Example: Used TRUNCATE to reset a staging table before re-importing
data.</li>
</ul>
<div class="sourceCode" id="cb44"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">TRUNCATE</span> <span class="kw">TABLE</span> StagingData;  </span></code></pre></div>
<p><strong>63. How do you retrieve the current date and time in SQL
Server?</strong></p>
<ul>
<li>Use <code>GETDATE()</code> to retrieve the current date and
time.</li>
<li><code>SYSDATETIME()</code> provides higher precision for fractional
seconds.</li>
<li>Useful for auditing or setting default values in timestamp
columns.</li>
<li>Example: Used <code>GETDATE()</code> to record timestamps for user
login events.</li>
</ul>
<div class="sourceCode" id="cb45"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> UserLogins (UserID, LoginTime) <span class="kw">VALUES</span> (<span class="dv">1</span>, GETDATE());  </span></code></pre></div>
<p><strong>64. What is a NULL value in SQL, and how is it different from
a blank or zero?</strong></p>
<ul>
<li>NULL represents missing or unknown data, whereas blank is an empty
string, and zero is a numeric value.</li>
<li>NULL is not equal to any value, including itself; use
<code>IS NULL</code> to check for it.</li>
<li>Example: Used NULL to indicate unprovided optional fields in a form
submission table.</li>
</ul>
<div class="sourceCode" id="cb46"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Users <span class="kw">WHERE</span> LastName <span class="kw">IS</span> <span class="kw">NULL</span>;  </span></code></pre></div>
<p><strong>65. What is the difference between HAVING and WHERE
clauses?</strong></p>
<ul>
<li><code>WHERE</code> filters rows before grouping, while
<code>HAVING</code> filters groups after aggregation.</li>
<li>Both can be used together in a query for more granular control.</li>
<li>Example: Used <code>HAVING</code> to find products with total sales
greater than 100.</li>
</ul>
<div class="sourceCode" id="cb47"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ProductID, <span class="fu">SUM</span>(SalesAmount) <span class="kw">AS</span> TotalSales  </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Sales  </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> ProductID  </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="kw">HAVING</span> <span class="fu">SUM</span>(SalesAmount) <span class="op">&gt;</span> <span class="dv">100</span>;  </span></code></pre></div>
<p><strong>66. How do you retrieve the top N rows from a
table?</strong></p>
<ul>
<li>Use the <code>TOP</code> keyword to limit the number of rows
returned.</li>
<li>Combine with <code>ORDER BY</code> to specify the selection
order.</li>
<li>Example: Retrieved the top 5 highest-paid employees from an HR
database.</li>
</ul>
<div class="sourceCode" id="cb48"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> TOP <span class="dv">5</span> EmployeeID, Salary  </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Employees  </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> Salary <span class="kw">DESC</span>;  </span></code></pre></div>
<p><strong>67. What is the purpose of the COALESCE function in
SQL?</strong></p>
<ul>
<li>COALESCE returns the first non-NULL value from a list of
arguments.</li>
<li>It is useful for handling NULL values in expressions or defaulting
values.</li>
<li>Example: Used COALESCE to replace NULL values with “Unknown” in a
report.</li>
</ul>
<div class="sourceCode" id="cb49"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> EmployeeID, <span class="fu">COALESCE</span>(Department, <span class="st">&#39;Unknown&#39;</span>) <span class="kw">AS</span> Department  </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Employees;  </span></code></pre></div>
<p><strong>68. How do you rename a table or column in SQL
Server?</strong></p>
<ul>
<li>Use <code>sp_rename</code> to rename tables or columns.</li>
<li>Syntax:
<code>sp_rename 'OldName', 'NewName', 'OBJECT_TYPE'</code>.</li>
<li>Example: Renamed a column from <code>OldColumn</code> to
<code>NewColumn</code> in a legacy database.</li>
</ul>
<div class="sourceCode" id="cb50"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXEC</span> sp_rename <span class="st">&#39;Employees.OldColumn&#39;</span>, <span class="st">&#39;NewColumn&#39;</span>, <span class="st">&#39;COLUMN&#39;</span>;  </span></code></pre></div>
<p><strong>69. What is a composite key in SQL, and when would you use
it?</strong></p>
<ul>
<li>A composite key is a primary key that consists of two or more
columns.</li>
<li>It is used when no single column can uniquely identify a row.</li>
<li>Example: Defined a composite key for a junction table in a
many-to-many relationship.</li>
</ul>
<div class="sourceCode" id="cb51"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> CourseRegistrations (  </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    StudentID <span class="dt">INT</span>,  </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    CourseID <span class="dt">INT</span>,  </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (StudentID, CourseID)  </span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>);  </span></code></pre></div>
<p><strong>70. How do you retrieve duplicate rows from a
table?</strong></p>
<ul>
<li>Use <code>GROUP BY</code> with <code>HAVING COUNT(*) &gt; 1</code>
to find duplicate entries.</li>
<li>Combine with <code>ROW_NUMBER()</code> to handle duplicates
explicitly.</li>
<li>Example: Identified duplicate customer entries in a CRM system.</li>
</ul>
<div class="sourceCode" id="cb52"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> Email, <span class="fu">COUNT</span>(<span class="op">*</span>)  </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Customers  </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> Email  </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="kw">HAVING</span> <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="op">&gt;</span> <span class="dv">1</span>;  </span></code></pre></div>
<p><strong>71. What are default constraints in SQL Server?</strong></p>
<ul>
<li>Default constraints assign a default value to a column if no value
is provided during insertion.</li>
<li>Useful for ensuring columns have meaningful defaults without manual
input.</li>
<li>Example: Set a default value of <code>GETDATE()</code> for a
CreatedAt column.</li>
</ul>
<div class="sourceCode" id="cb53"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Orders (  </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    OrderID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,  </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    CreatedAt DATETIME <span class="kw">DEFAULT</span> GETDATE()  </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>);  </span></code></pre></div>
<p><strong>72. How do you calculate the total, average, or count of rows
in a table?</strong></p>
<ul>
<li>Use aggregate functions like <code>SUM()</code>, <code>AVG()</code>,
and <code>COUNT()</code>.</li>
<li>Combine with <code>GROUP BY</code> for segmented calculations.</li>
<li>Example: Calculated the total sales for each product in a sales
report.</li>
</ul>
<div class="sourceCode" id="cb54"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ProductID, <span class="fu">SUM</span>(SalesAmount) <span class="kw">AS</span> TotalSales  </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Sales  </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> ProductID;  </span></code></pre></div>
<p><strong>73. How do you remove duplicate rows from a
table?</strong></p>
<ul>
<li>Use <code>ROW_NUMBER()</code> with a <code>CTE</code> to identify
duplicates and delete them.</li>
<li>Retain only the desired instance of each duplicate.</li>
<li>Example: Removed duplicates from a customer database based on
email.</li>
</ul>
<div class="sourceCode" id="cb55"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> CTE <span class="kw">AS</span> (  </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> <span class="op">*</span>, <span class="fu">ROW_NUMBER</span>() <span class="kw">OVER</span> (<span class="kw">PARTITION</span> <span class="kw">BY</span> Email <span class="kw">ORDER</span> <span class="kw">BY</span> <span class="kw">ID</span>) <span class="kw">AS</span> <span class="kw">RowNum</span>  </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> Customers  </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>)  </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="kw">DELETE</span> <span class="kw">FROM</span> CTE <span class="kw">WHERE</span> <span class="kw">RowNum</span> <span class="op">&gt;</span> <span class="dv">1</span>;  </span></code></pre></div>
<p><strong>74. What is the difference between CHAR and VARCHAR in SQL
Server?</strong></p>
<ul>
<li><code>CHAR</code> has a fixed length, while <code>VARCHAR</code> has
a variable length.</li>
<li><code>VARCHAR</code> is more efficient for strings of varying
lengths.</li>
<li>Example: Used VARCHAR for a description column in a product table to
save storage.</li>
</ul>
<div class="sourceCode" id="cb56"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Products (  </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    ProductID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,  </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    Description <span class="dt">VARCHAR</span>(<span class="dv">255</span>)  </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>);  </span></code></pre></div>
<p><strong>75. How do you find the nth highest salary in a
table?</strong></p>
<ul>
<li>Use the <code>OFFSET-FETCH</code> clause or a subquery with
<code>ROW_NUMBER()</code>.</li>
<li>Example: Retrieved the 3rd highest salary from an Employees
table.</li>
</ul>
<div class="sourceCode" id="cb57"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> Salary  </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> (<span class="kw">SELECT</span> Salary, <span class="fu">ROW_NUMBER</span>() <span class="kw">OVER</span> (<span class="kw">ORDER</span> <span class="kw">BY</span> Salary <span class="kw">DESC</span>) <span class="kw">AS</span> <span class="kw">RowNum</span>  </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>      <span class="kw">FROM</span> Employees) <span class="kw">AS</span> Ranked  </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> <span class="kw">RowNum</span> <span class="op">=</span> <span class="dv">3</span>;  </span></code></pre></div>
<p><strong>76. What is the difference between UNION and UNION ALL in
SQL?</strong></p>
<ul>
<li>UNION combines result sets and removes duplicates, while UNION ALL
includes duplicates.</li>
<li>UNION incurs more processing time due to duplicate removal.</li>
<li>Example: Used UNION ALL to merge two tables without filtering
duplicate records.</li>
</ul>
<div class="sourceCode" id="cb58"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> FirstName, LastName <span class="kw">FROM</span> Employees  </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="kw">UNION</span> <span class="kw">ALL</span>  </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> FirstName, LastName <span class="kw">FROM</span> Contractors;  </span></code></pre></div>
<p><strong>77. What is the purpose of the CASE statement in
SQL?</strong></p>
<ul>
<li>CASE is used for conditional logic within queries.</li>
<li>It allows dynamic values or conditional grouping in SELECT, WHERE,
or ORDER BY clauses.</li>
<li>Example: Categorized employees into salary ranges using a CASE
statement.</li>
</ul>
<div class="sourceCode" id="cb59"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> EmployeeID,  </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>       <span class="cf">CASE</span>  </span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>           <span class="cf">WHEN</span> Salary <span class="op">&lt;</span> <span class="dv">50000</span> <span class="cf">THEN</span> <span class="st">&#39;Low&#39;</span>  </span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>           <span class="cf">WHEN</span> Salary <span class="kw">BETWEEN</span> <span class="dv">50000</span> <span class="kw">AND</span> <span class="dv">100000</span> <span class="cf">THEN</span> <span class="st">&#39;Medium&#39;</span>  </span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>           <span class="cf">ELSE</span> <span class="st">&#39;High&#39;</span>  </span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>       <span class="cf">END</span> <span class="kw">AS</span> SalaryRange  </span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Employees;  </span></code></pre></div>
<p><strong>78. How do you retrieve metadata about database objects in
SQL Server?</strong></p>
<ul>
<li>Use system views like <code>INFORMATION_SCHEMA.TABLES</code> or
<code>sys.objects</code>.</li>
<li><code>sp_help</code> or <code>sp_columns</code> can also provide
detailed object metadata.</li>
<li>Example: Retrieved a list of all tables in the database.</li>
</ul>
<div class="sourceCode" id="cb60"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> TABLE_NAME  </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> INFORMATION_SCHEMA.<span class="kw">TABLES</span>  </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> TABLE_TYPE <span class="op">=</span> <span class="st">&#39;BASE TABLE&#39;</span>;  </span></code></pre></div>
<p><strong>79. What are system functions in SQL Server?</strong></p>
<ul>
<li>System functions perform operations like string manipulation
(<code>LEN</code>, <code>SUBSTRING</code>), date handling
(<code>GETDATE</code>, <code>DATEADD</code>), and mathematical
calculations (<code>ROUND</code>, <code>ABS</code>).</li>
<li>They are built-in and require no external libraries.</li>
<li>Example: Used <code>LEN</code> and <code>SUBSTRING</code> to extract
a substring from a long text.</li>
</ul>
<div class="sourceCode" id="cb61"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> SUBSTRING(FullName, <span class="dv">1</span>, LEN(FullName) <span class="op">/</span> <span class="dv">2</span>) <span class="kw">AS</span> FirstHalf  </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Employees;  </span></code></pre></div>
<p><strong>80. How do you implement pagination in SQL
Server?</strong></p>
<ul>
<li>Use the <code>OFFSET</code> and <code>FETCH</code> clauses for
paging results.</li>
<li>Combine with <code>ORDER BY</code> for consistent results.</li>
<li>Example: Retrieved the second page of 10 records from a customer
list.</li>
</ul>
<div class="sourceCode" id="cb62"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span>  </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Customers  </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> CustomerID  </span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>OFFSET <span class="dv">10</span> <span class="kw">ROWS</span> FETCH <span class="kw">NEXT</span> <span class="dv">10</span> <span class="kw">ROWS</span> <span class="kw">ONLY</span>;  </span></code></pre></div>
<p><strong>81. What is the difference between DDL and DML commands in
SQL?</strong></p>
<ul>
<li>DDL (Data Definition Language) commands define schema structures
(CREATE, ALTER, DROP).</li>
<li>DML (Data Manipulation Language) commands manage data within tables
(INSERT, UPDATE, DELETE).</li>
<li>Example: Used DDL to add a column and DML to populate it.</li>
</ul>
<div class="sourceCode" id="cb63"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> Employees <span class="kw">ADD</span> Department <span class="dt">NVARCHAR</span>(<span class="dv">50</span>);  </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> Employees <span class="kw">SET</span> Department <span class="op">=</span> <span class="st">&#39;HR&#39;</span> <span class="kw">WHERE</span> EmployeeID <span class="op">=</span> <span class="dv">1</span>;  </span></code></pre></div>
<p><strong>82. How do you handle NULL values in SQL aggregate
functions?</strong></p>
<ul>
<li>Most aggregate functions like <code>SUM()</code> and
<code>AVG()</code> ignore NULL values.</li>
<li>Use <code>ISNULL</code> or <code>COALESCE</code> to replace NULLs
with default values.</li>
<li>Example: Calculated the total sales, replacing NULL amounts with
0.</li>
</ul>
<div class="sourceCode" id="cb64"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">SUM</span>(ISNULL(SalesAmount, <span class="dv">0</span>)) <span class="kw">AS</span> TotalSales  </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Sales;  </span></code></pre></div>
<p><strong>83. How do you create an auto-incrementing column in SQL
Server?</strong></p>
<ul>
<li>Use the <code>IDENTITY</code> property on an integer column.</li>
<li>Specify the seed and increment values.</li>
<li>Example: Created an OrderID column that starts at 1 and increments
by 1.</li>
</ul>
<div class="sourceCode" id="cb65"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Orders (  </span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>    OrderID <span class="dt">INT</span> IDENTITY(<span class="dv">1</span>, <span class="dv">1</span>),  </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>    OrderDate DATETIME  </span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>);  </span></code></pre></div>
<p><strong>84. What is the purpose of the WITH(NOLOCK) hint in SQL
Server?</strong></p>
<ul>
<li>The <code>WITH(NOLOCK)</code> hint allows queries to read
uncommitted data, improving performance.</li>
<li>It may result in dirty reads if data changes during the query.</li>
<li>Example: Used <code>NOLOCK</code> in a reporting query to avoid
locking issues during high traffic.</li>
</ul>
<div class="sourceCode" id="cb66"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Orders <span class="kw">WITH</span>(NOLOCK);  </span></code></pre></div>
<p><strong>85. How do you export query results to a file in SQL
Server?</strong></p>
<ul>
<li>Use SQL Server Management Studio (SSMS) to save query results as a
file.</li>
<li>Use <code>bcp</code> (Bulk Copy Program) to export results
programmatically.</li>
<li>Example: Exported a product list to a CSV file for a marketing
team.</li>
</ul>
<div class="sourceCode" id="cb67"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="ex">bcp</span> <span class="st">&quot;SELECT * FROM Products&quot;</span> queryout <span class="st">&quot;Products.csv&quot;</span> <span class="at">-c</span> <span class="at">-T</span> <span class="at">-S</span> ServerName  </span></code></pre></div>
<p><strong>86. How do you identify and remove orphaned rows in a
database?</strong></p>
<ul>
<li>Use <code>LEFT JOIN</code> to find rows without matching foreign key
references.</li>
<li>Use DELETE based on the result of this query.</li>
<li>Example: Removed orphaned order details without parent orders.</li>
</ul>
<div class="sourceCode" id="cb68"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DELETE</span> <span class="kw">FROM</span> OrderDetails  </span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> OrderID <span class="kw">NOT</span> <span class="kw">IN</span> (<span class="kw">SELECT</span> OrderID <span class="kw">FROM</span> Orders);  </span></code></pre></div>
<p><strong>87. What is the difference between CROSS JOIN and INNER
JOIN?</strong></p>
<ul>
<li>CROSS JOIN produces a Cartesian product of two tables (every
combination).</li>
<li>INNER JOIN returns rows with matching values in specified
columns.</li>
<li>Example: Used CROSS JOIN to generate all combinations of colors and
sizes.</li>
</ul>
<div class="sourceCode" id="cb69"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Colors <span class="kw">CROSS</span> <span class="kw">JOIN</span> Sizes;  </span></code></pre></div>
<p><strong>88. What is the difference between a physical and a logical
delete?</strong></p>
<ul>
<li>A physical delete removes rows permanently from a table.</li>
<li>A logical delete marks rows as inactive, typically using a flag
column.</li>
<li>Example: Used a logical delete for soft-deleting user accounts.</li>
</ul>
<div class="sourceCode" id="cb70"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> Users <span class="kw">SET</span> IsActive <span class="op">=</span> <span class="dv">0</span> <span class="kw">WHERE</span> UserID <span class="op">=</span> <span class="dv">101</span>;  </span></code></pre></div>
<p><strong>89. How do you enforce referential integrity in SQL
Server?</strong></p>
<ul>
<li>Use foreign key constraints to enforce relationships between
tables.</li>
<li>Specify cascading actions for updates or deletions
(<code>ON DELETE CASCADE</code>).</li>
<li>Example: Created a foreign key to link orders to customers.</li>
</ul>
<div class="sourceCode" id="cb71"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> Orders <span class="kw">ADD</span> <span class="kw">CONSTRAINT</span> FK_CustomerID <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (CustomerID) <span class="kw">REFERENCES</span> Customers(CustomerID);  </span></code></pre></div>
<p><strong>90. What is a computed column in SQL Server?</strong></p>
<ul>
<li>A computed column derives its value from other columns in the
table.</li>
<li>It can be persisted for faster querying.</li>
<li>Example: Created a computed column to calculate total price from
quantity and unit price.</li>
</ul>
<div class="sourceCode" id="cb72"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> OrderDetails (  </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>    Quantity <span class="dt">INT</span>,  </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    UnitPrice <span class="dt">DECIMAL</span>(<span class="dv">10</span>, <span class="dv">2</span>),  </span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    TotalPrice <span class="kw">AS</span> (Quantity <span class="op">*</span> UnitPrice) PERSISTED  </span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>);  </span></code></pre></div>
<p><strong>91. What is the difference between a subquery and a
JOIN?</strong></p>
<ul>
<li>A subquery is a query within another query and returns data used by
the outer query.</li>
<li>A JOIN combines rows from multiple tables based on a related
column.</li>
<li>Example: Used a subquery to get the latest order date for each
customer.</li>
</ul>
<div class="sourceCode" id="cb73"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> CustomerID, (<span class="kw">SELECT</span> <span class="fu">MAX</span>(OrderDate) <span class="kw">FROM</span> Orders <span class="kw">WHERE</span> Orders.CustomerID <span class="op">=</span> Customers.CustomerID) <span class="kw">AS</span> LatestOrder  </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Customers;  </span></code></pre></div>
<p><strong>92. What are indexed views in SQL Server, and when would you
use them?</strong></p>
<ul>
<li>Indexed views store the result of a query physically on disk for
faster retrieval.</li>
<li>They are beneficial for improving performance of queries involving
heavy computations.</li>
<li>Example: Created an indexed view for aggregating sales data by
region.</li>
</ul>
<div class="sourceCode" id="cb74"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">VIEW</span> SalesByRegion <span class="kw">WITH</span> SCHEMABINDING <span class="kw">AS</span>  </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> Region, <span class="fu">SUM</span>(SalesAmount) <span class="kw">AS</span> TotalSales  </span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Sales <span class="kw">GROUP</span> <span class="kw">BY</span> Region;  </span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">UNIQUE</span> CLUSTERED <span class="kw">INDEX</span> IX_SalesByRegion <span class="kw">ON</span> SalesByRegion(Region);  </span></code></pre></div>
<p><strong>93. What are cascading actions in foreign key
constraints?</strong></p>
<ul>
<li>Cascading actions (<code>ON DELETE CASCADE</code>,
<code>ON UPDATE CASCADE</code>) ensure that related rows are updated or
deleted automatically.</li>
<li>Helps maintain referential integrity without manual
intervention.</li>
<li>Example: Set cascading delete to remove order details when an order
is deleted.</li>
</ul>
<div class="sourceCode" id="cb75"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> OrderDetails  </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ADD</span> <span class="kw">CONSTRAINT</span> FK_OrderID <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (OrderID) <span class="kw">REFERENCES</span> Orders(OrderID) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>;  </span></code></pre></div>
<p><strong>94. What is the difference between stored procedures and
functions in SQL?</strong></p>
<ul>
<li>Stored procedures perform tasks and can return multiple result sets,
while functions return a single value or table.</li>
<li>Functions cannot modify database state, whereas stored procedures
can.</li>
<li>Example: Created a function to calculate discounts and a procedure
for bulk order processing.</li>
</ul>
<div class="sourceCode" id="cb76"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">FUNCTION</span> CalculateDiscount(@Price <span class="dt">DECIMAL</span>, @DiscountRate <span class="dt">DECIMAL</span>)  </span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>RETURNS <span class="dt">DECIMAL</span> <span class="kw">AS</span>  </span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span>  </span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">RETURN</span> @Price <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> @DiscountRate);  </span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span>;  </span></code></pre></div>
<p><strong>95. What is the difference between a unique constraint and a
unique index?</strong></p>
<ul>
<li>A unique constraint ensures no duplicate values in a column or
combination of columns.</li>
<li>A unique index physically enforces the uniqueness and improves query
performance.</li>
<li>Example: Added a unique constraint to prevent duplicate emails in a
user table.</li>
</ul>
<div class="sourceCode" id="cb77"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Users (  </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>    UserID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,  </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    Email <span class="dt">NVARCHAR</span>(<span class="dv">255</span>) <span class="kw">UNIQUE</span>  </span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>);  </span></code></pre></div>
<p><strong>96. How do you implement table inheritance in SQL
Server?</strong></p>
<ul>
<li>Use a parent table for shared attributes and child tables for
specific attributes.</li>
<li>Use foreign key relationships to link child tables to the
parent.</li>
<li>Example: Implemented table inheritance for different types of
accounts.</li>
</ul>
<div class="sourceCode" id="cb78"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Accounts (AccountID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>, AccountType <span class="dt">NVARCHAR</span>(<span class="dv">50</span>));  </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> SavingsAccounts (AccountID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>, InterestRate <span class="dt">DECIMAL</span>, <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (AccountID) <span class="kw">REFERENCES</span> Accounts(AccountID));  </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> CheckingAccounts (AccountID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>, OverdraftLimit <span class="dt">DECIMAL</span>, <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (AccountID) <span class="kw">REFERENCES</span> Accounts(AccountID));  </span></code></pre></div>
<p><strong>97. What is the difference between INNER and OUTER APPLY in
SQL Server?</strong></p>
<ul>
<li>INNER APPLY returns rows from a table-valued function that produce
matches.</li>
<li>OUTER APPLY includes all rows from the outer query, with NULLs for
unmatched rows.</li>
<li>Example: Used OUTER APPLY to retrieve recent transactions, including
customers with no transactions.</li>
</ul>
<div class="sourceCode" id="cb79"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> C.CustomerID, T.TransactionID  </span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Customers C  </span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="kw">OUTER</span> APPLY (<span class="kw">SELECT</span> TOP <span class="dv">1</span> TransactionID <span class="kw">FROM</span> Transactions <span class="kw">WHERE</span> Transactions.CustomerID <span class="op">=</span> C.CustomerID <span class="kw">ORDER</span> <span class="kw">BY</span> TransactionDate <span class="kw">DESC</span>) T;  </span></code></pre></div>
<p><strong>98. What are partitioned tables in SQL Server, and why use
them?</strong></p>
<ul>
<li>Partitioned tables divide data into partitions for improved query
performance and manageability.</li>
<li>They are beneficial for large datasets, enabling operations on
specific partitions.</li>
<li>Example: Partitioned sales data by year for efficient historical
queries.</li>
</ul>
<div class="sourceCode" id="cb80"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PARTITION</span> <span class="kw">FUNCTION</span> pfYear (<span class="dt">INT</span>) <span class="kw">AS</span> <span class="kw">RANGE</span> <span class="kw">LEFT</span> <span class="cf">FOR</span> <span class="kw">VALUES</span> (<span class="dv">2019</span>, <span class="dv">2020</span>, <span class="dv">2021</span>);  </span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PARTITION</span> SCHEME psYear <span class="kw">AS</span> <span class="kw">PARTITION</span> pfYear <span class="kw">ALL</span> <span class="kw">TO</span> ([<span class="kw">PRIMARY</span>]);  </span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Sales (SaleID <span class="dt">INT</span>, SaleDate <span class="dt">DATE</span>, Amount <span class="dt">DECIMAL</span>) <span class="kw">ON</span> psYear (<span class="dt">YEAR</span>(SaleDate));  </span></code></pre></div>
<p><strong>99. How do you handle recursive queries in SQL
Server?</strong></p>
<ul>
<li>Use Common Table Expressions (CTEs) with recursion.</li>
<li>Useful for traversing hierarchical data like organizational
charts.</li>
<li>Example: Retrieved all subordinates of a manager in an employee
hierarchy.</li>
</ul>
<div class="sourceCode" id="cb81"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> EmployeeHierarchy <span class="kw">AS</span> (  </span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> EmployeeID, ManagerID <span class="kw">FROM</span> Employees <span class="kw">WHERE</span> ManagerID <span class="kw">IS</span> <span class="kw">NULL</span>  </span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">UNION</span> <span class="kw">ALL</span>  </span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> E.EmployeeID, E.ManagerID  </span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> Employees E  </span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">INNER</span> <span class="kw">JOIN</span> EmployeeHierarchy EH <span class="kw">ON</span> E.ManagerID <span class="op">=</span> EH.EmployeeID  </span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>)  </span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> EmployeeHierarchy;  </span></code></pre></div>
<p><strong>100. What is the purpose of the OUTPUT clause in SQL
Server?</strong></p>
<ul>
<li>OUTPUT returns data from modified rows during INSERT, UPDATE,
DELETE, or MERGE operations.</li>
<li>Helps log changes or retrieve generated values like IDs.</li>
<li>Example: Captured deleted records for audit during cleanup.</li>
</ul>
<div class="sourceCode" id="cb82"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DELETE</span> <span class="kw">FROM</span> Orders OUTPUT DELETED.<span class="op">*</span> <span class="kw">WHERE</span> OrderDate <span class="op">&lt;</span> <span class="st">&#39;2022-01-01&#39;</span>;  </span></code></pre></div>
<p><strong>101. What is row-level security in SQL Server?</strong></p>
<ul>
<li>Row-level security restricts data access at the row level based on
user roles or conditions.</li>
<li>Implemented using security policies and predicates.</li>
<li>Example: Allowed managers to see only their department’s
records.</li>
</ul>
<div class="sourceCode" id="cb83"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> SECURITY POLICY SalesPolicy  </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ADD</span> <span class="kw">FILTER</span> PREDICATE dbo.FilterSales(UserID()) <span class="kw">ON</span> Sales;  </span></code></pre></div>
<p><strong>102. What is the purpose of the TRY…CATCH block in SQL
Server?</strong></p>
<ul>
<li>TRY…CATCH handles runtime errors in T-SQL scripts or
procedures.</li>
<li>Ensures graceful error handling and logging.</li>
<li>Example: Logged errors during bulk inserts.</li>
</ul>
<div class="sourceCode" id="cb84"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> TRY  </span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">INSERT</span> <span class="kw">INTO</span> Sales <span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> StagingData;  </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span> TRY  </span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> CATCH  </span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">INSERT</span> <span class="kw">INTO</span> ErrorLog (ErrorMessage) <span class="kw">VALUES</span> (ERROR_MESSAGE());  </span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span> CATCH;  </span></code></pre></div>
<p><strong>103. How do you create a temporary table in SQL
Server?</strong></p>
<ul>
<li>Use <code>CREATE TABLE</code> with <code>#</code> for local or
<code>##</code> for global temporary tables.</li>
<li>Temporary tables are stored in <code>tempdb</code> and automatically
dropped.</li>
<li>Example: Used a temporary table for intermediate calculations in a
complex report.</li>
</ul>
<div class="sourceCode" id="cb85"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> #TempSales (ProductID <span class="dt">INT</span>, TotalSales <span class="dt">DECIMAL</span>);  </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> #TempSales <span class="kw">SELECT</span> ProductID, <span class="fu">SUM</span>(SalesAmount) <span class="kw">FROM</span> Sales <span class="kw">GROUP</span> <span class="kw">BY</span> ProductID;  </span></code></pre></div>
<p><strong>104. How do you perform error handling in SQL Server
transactions?</strong></p>
<ul>
<li>Use <code>TRY...CATCH</code> with <code>ROLLBACK</code> or
<code>COMMIT</code>.</li>
<li>Ensures atomicity by rolling back incomplete transactions.</li>
<li>Example: Managed errors during a multi-step order processing
transaction.</li>
</ul>
<div class="sourceCode" id="cb86"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> <span class="kw">TRANSACTION</span>;  </span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> TRY  </span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">INSERT</span> <span class="kw">INTO</span> Orders <span class="kw">VALUES</span> (<span class="dv">1</span>, GETDATE());  </span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">INSERT</span> <span class="kw">INTO</span> OrderDetails <span class="kw">VALUES</span> (<span class="dv">1</span>, <span class="st">&#39;ProductA&#39;</span>, <span class="dv">2</span>);  </span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">COMMIT</span>;  </span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span> TRY  </span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> CATCH  </span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ROLLBACK</span>;  </span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span> CATCH;  </span></code></pre></div>
<p><strong>105. What is a surrogate key, and how is it different from a
natural key?</strong></p>
<ul>
<li>A surrogate key is a system-generated unique identifier, often an
integer.</li>
<li>A natural key is derived from business data and is unique by
nature.</li>
<li>Example: Used a surrogate key for a Products table instead of
product codes.</li>
</ul>
<div class="sourceCode" id="cb87"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Products (ProductID <span class="dt">INT</span> IDENTITY(<span class="dv">1</span>, <span class="dv">1</span>), ProductCode <span class="dt">NVARCHAR</span>(<span class="dv">50</span>), Name <span class="dt">NVARCHAR</span>(<span class="dv">255</span>));  </span></code></pre></div>
<p><strong>106. What is the difference between PRIMARY KEY and UNIQUE
constraints in SQL?</strong></p>
<ul>
<li>A PRIMARY KEY uniquely identifies each row and does not allow NULL
values.</li>
<li>A UNIQUE constraint also ensures uniqueness but allows one NULL
value.</li>
<li>Example: Used PRIMARY KEY for the <code>EmployeeID</code> column and
UNIQUE for the <code>Email</code> column.</li>
</ul>
<div class="sourceCode" id="cb88"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Employees (  </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>    EmployeeID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,  </span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>    Email <span class="dt">NVARCHAR</span>(<span class="dv">255</span>) <span class="kw">UNIQUE</span>  </span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>);  </span></code></pre></div>
<p><strong>107. How do you find the second-highest salary in a
table?</strong></p>
<ul>
<li>Use a subquery to exclude the highest salary and retrieve the next
highest.</li>
<li>Alternative methods include using <code>OFFSET FETCH</code> or
window functions.</li>
<li>Example: Retrieved the second-highest salary using a subquery.</li>
</ul>
<div class="sourceCode" id="cb89"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">MAX</span>(Salary)  </span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Employees  </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> Salary <span class="op">&lt;</span> (<span class="kw">SELECT</span> <span class="fu">MAX</span>(Salary) <span class="kw">FROM</span> Employees);  </span></code></pre></div>
<p><strong>108. What is the purpose of the EXCEPT operator in SQL
Server?</strong></p>
<ul>
<li>The EXCEPT operator returns rows from the first query that are not
in the second.</li>
<li>It removes duplicates from the result by default.</li>
<li>Example: Retrieved customers who have not placed any orders.</li>
</ul>
<div class="sourceCode" id="cb90"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> CustomerID <span class="kw">FROM</span> Customers  </span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="kw">EXCEPT</span>  </span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> CustomerID <span class="kw">FROM</span> Orders;  </span></code></pre></div>
<p><strong>109. How do you use PIVOT in SQL Server?</strong></p>
<ul>
<li>PIVOT rotates table rows into columns for summarization or
reporting.</li>
<li>Commonly used for creating cross-tabular reports.</li>
<li>Example: Summarized sales by year for each region.</li>
</ul>
<div class="sourceCode" id="cb91"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> Region, [<span class="dv">2022</span>] <span class="kw">AS</span> Sales2022, [<span class="dv">2023</span>] <span class="kw">AS</span> Sales2023  </span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> (<span class="kw">SELECT</span> Region, <span class="dt">Year</span>(SaleDate) <span class="kw">AS</span> SaleYear, SalesAmount <span class="kw">FROM</span> Sales) <span class="kw">AS</span> <span class="kw">Source</span>  </span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>PIVOT (<span class="fu">SUM</span>(SalesAmount) <span class="cf">FOR</span> SaleYear <span class="kw">IN</span> ([<span class="dv">2022</span>], [<span class="dv">2023</span>])) <span class="kw">AS</span> PivotTable;  </span></code></pre></div>
<p><strong>110. What are SQL Server user-defined types
(UDTs)?</strong></p>
<ul>
<li>UDTs allow you to create reusable data types with specific
constraints.</li>
<li>Useful for enforcing consistent rules across tables.</li>
<li>Example: Created a <code>PhoneNumber</code> type for columns that
store phone numbers.</li>
</ul>
<div class="sourceCode" id="cb92"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TYPE</span> PhoneNumber <span class="kw">FROM</span> <span class="dt">NVARCHAR</span>(<span class="dv">15</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>;  </span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Customers (CustomerID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>, Contact PhoneNumber);  </span></code></pre></div>
<p><strong>111. How do you implement data masking in SQL
Server?</strong></p>
<ul>
<li>Use dynamic data masking to obscure sensitive data for
non-privileged users.</li>
<li>Masks are applied at the query level, not on stored data.</li>
<li>Example: Masked phone numbers for non-admin users.</li>
</ul>
<div class="sourceCode" id="cb93"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Customers (PhoneNumber <span class="dt">NVARCHAR</span>(<span class="dv">15</span>) MASKED <span class="kw">WITH</span> (<span class="kw">FUNCTION</span> <span class="op">=</span> <span class="st">&#39;partial(0,&quot;***-***-&quot;,4)&#39;</span>));  </span></code></pre></div>
<p><strong>112. What are the different types of backups in SQL
Server?</strong></p>
<ul>
<li>Full: Complete database backup.</li>
<li>Differential: Changes since the last full backup.</li>
<li>Transaction Log: Logs changes since the last log backup.</li>
<li>Example: Automated a full backup nightly and differential backups
hourly.</li>
</ul>
<div class="sourceCode" id="cb94"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="kw">BACKUP</span> <span class="kw">DATABASE</span> MyDatabase <span class="kw">TO</span> DISK <span class="op">=</span> <span class="st">&#39;C:\Backups\MyDatabase.bak&#39;</span>;  </span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="kw">BACKUP</span> <span class="fu">LOG</span> MyDatabase <span class="kw">TO</span> DISK <span class="op">=</span> <span class="st">&#39;C:\Backups\MyDatabase_Log.bak&#39;</span>;  </span></code></pre></div>
<p><strong>113. What are the differences between CHAR and
VARCHAR?</strong></p>
<ul>
<li>CHAR is fixed-length; VARCHAR is variable-length.</li>
<li>CHAR is faster for small fixed-size strings, while VARCHAR saves
space for varying lengths.</li>
<li>Example: Used CHAR for country codes and VARCHAR for
descriptions.</li>
</ul>
<div class="sourceCode" id="cb95"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Countries (Code <span class="dt">CHAR</span>(<span class="dv">3</span>), Name <span class="dt">VARCHAR</span>(<span class="dv">255</span>));  </span></code></pre></div>
<p><strong>114. What is the difference between a heap and a clustered
table in SQL Server?</strong></p>
<ul>
<li>A heap has no clustered index, and rows are stored unordered.</li>
<li>A clustered table has a clustered index, and rows are ordered based
on the index key.</li>
<li>Example: Converted a heap table into a clustered table for faster
lookups.</li>
</ul>
<div class="sourceCode" id="cb96"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> CLUSTERED <span class="kw">INDEX</span> IX_Orders_OrderDate <span class="kw">ON</span> Orders(OrderDate);  </span></code></pre></div>
<p><strong>115. How do you perform string concatenation in SQL
Server?</strong></p>
<ul>
<li>Use the <code>+</code> operator or <code>STRING_AGG</code> for
combining strings.</li>
<li>For older versions, use <code>FOR XML PATH</code> to concatenate
multiple rows.</li>
<li>Example: Concatenated employee names from multiple rows.</li>
</ul>
<div class="sourceCode" id="cb97"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> STRING_AGG(FirstName, <span class="st">&#39;, &#39;</span>) <span class="kw">AS</span> Employees  </span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Employees;  </span></code></pre></div>
<p><strong>116. What is the difference between DELETE and TRUNCATE in
SQL Server?</strong></p>
<ul>
<li>DELETE removes rows one by one and can have WHERE conditions; it
logs each deletion.</li>
<li>TRUNCATE removes all rows quickly without logging individual
deletions but cannot have conditions.</li>
<li>Example: Used DELETE for specific rows and TRUNCATE for resetting a
staging table.</li>
</ul>
<div class="sourceCode" id="cb98"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DELETE</span> <span class="kw">FROM</span> Orders <span class="kw">WHERE</span> OrderDate <span class="op">&lt;</span> <span class="st">&#39;2022-01-01&#39;</span>;  </span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="kw">TRUNCATE</span> <span class="kw">TABLE</span> TempOrders;  </span></code></pre></div>
<p><strong>117. How do you create a composite primary key in SQL
Server?</strong></p>
<ul>
<li>Use multiple columns in a PRIMARY KEY constraint.</li>
<li>Ensures the combination of columns is unique.</li>
<li>Example: Created a composite key for a student-course registration
table.</li>
</ul>
<div class="sourceCode" id="cb99"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Registrations (  </span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>    StudentID <span class="dt">INT</span>,  </span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>    CourseID <span class="dt">INT</span>,  </span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (StudentID, CourseID)  </span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>);  </span></code></pre></div>
<p><strong>118. What is SQL Server Filestream, and when is it
used?</strong></p>
<ul>
<li>Filestream allows storing and managing unstructured data (like
documents and images) in the file system with database integration.</li>
<li>Provides transactional consistency for BLOBs stored on the file
system.</li>
<li>Example: Stored images for product listings using Filestream.</li>
</ul>
<div class="sourceCode" id="cb100"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> ProductImages (  </span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>    ProductID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,  </span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>    Image VARBINARY(<span class="fu">MAX</span>) FILESTREAM  </span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>);  </span></code></pre></div>
<p><strong>119. How do you use CHECK constraints in SQL
Server?</strong></p>
<ul>
<li>CHECK constraints enforce rules at the column or table level.</li>
<li>They ensure data integrity by restricting allowed values.</li>
<li>Example: Restricted employee ages to between 18 and 65.</li>
</ul>
<div class="sourceCode" id="cb101"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Employees (  </span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>    EmployeeID <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,  </span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>    Age <span class="dt">INT</span> <span class="kw">CHECK</span> (Age <span class="kw">BETWEEN</span> <span class="dv">18</span> <span class="kw">AND</span> <span class="dv">65</span>)  </span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>);  </span></code></pre></div>
<p><strong>120. How do you update multiple tables in SQL Server
simultaneously?</strong></p>
<ul>
<li>Use a transaction to ensure atomic updates.</li>
<li>Combine multiple <code>UPDATE</code> statements under
<code>BEGIN TRANSACTION</code>.</li>
<li>Example: Updated orders and stock levels atomically.</li>
</ul>
<div class="sourceCode" id="cb102"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span> <span class="kw">TRANSACTION</span>;  </span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> Orders <span class="kw">SET</span> Status <span class="op">=</span> <span class="st">&#39;Shipped&#39;</span> <span class="kw">WHERE</span> OrderID <span class="op">=</span> <span class="dv">101</span>;  </span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> Products <span class="kw">SET</span> Stock <span class="op">=</span> Stock <span class="op">-</span> <span class="dv">1</span> <span class="kw">WHERE</span> ProductID <span class="op">=</span> <span class="dv">10</span>;  </span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="kw">COMMIT</span>;  </span></code></pre></div>
</body>
</html>
